<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 4: Momentum and Impulse - Physics of Baseball</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'><text y='32' font-size='32'>‚öæ</text></svg>">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/calculators.css">
    <style>
        /* Enhanced Week 4 Momentum and Impulse Styling */
        .enhanced-momentum-analyzer {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-radius: 12px;
            padding: 24px;
            margin: 24px 0;
            border: 1px solid #cbd5e0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        .analyzer-intro {
            color: #64748b;
            font-style: italic;
            margin-bottom: 20px;
            text-align: center;
        }

        .momentum-calculator-panel {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #e2e8f0;
        }

        .calculator-controls-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin-bottom: 20px;
        }

        .control-section {
            background: #f8fafc;
            padding: 16px;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }

        .control-label {
            display: block;
            font-weight: 600;
            margin-bottom: 12px;
            color: #374151;
        }

        .control-section input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: #e5e7eb;
            outline: none;
            margin: 12px 0;
            cursor: pointer;
        }

        .control-section input[type="range"]::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #3b82f6;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            transition: all 0.2s ease;
        }

        .control-section input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: 0 3px 8px rgba(59, 130, 246, 0.4);
        }

        .mass-indicators,
        .velocity-indicators {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
        }

        .mass-mark,
        .velocity-mark {
            font-size: 0.75rem;
            color: #6b7280;
            background: white;
            padding: 4px 8px;
            border-radius: 4px;
            border: 1px solid #d1d5db;
        }

        .calculations-display {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            background: #f0f9ff;
            padding: 16px;
            border-radius: 8px;
            border: 1px solid #0ea5e9;
        }

        .calc-result {
            text-align: center;
            padding: 8px;
            background: white;
            border-radius: 6px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .calc-label {
            display: block;
            font-size: 0.875rem;
            color: #6b7280;
            margin-bottom: 4px;
        }

        .calc-value {
            display: block;
            font-size: 1.25rem;
            font-weight: 700;
        }

        .momentum-value {
            color: #dc2626;
        }

        .velocity-value {
            color: #059669;
        }

        .energy-value {
            color: #7c3aed;
        }

        .momentum-diagram-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            border: 1px solid #e2e8f0;
        }

        .momentum-diagram svg {
            width: 100%;
            height: auto;
            max-width: 400px;
            margin: 0 auto;
            display: block;
        }

        .object-label {
            font-size: 14px;
            fill: white;
            font-weight: bold;
        }

        .vector-label {
            font-size: 12px;
            fill: #1976d2;
            font-weight: 600;
        }

        .vector-label-small {
            font-size: 10px;
            fill: #2196f3;
            font-weight: 500;
        }

        .scale-text,
        .legend-text {
            font-size: 10px;
            fill: #6b7280;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .calculator-controls-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }

            .calculations-display {
                grid-template-columns: 1fr;
                gap: 12px;
            }

            .enhanced-momentum-analyzer {
                padding: 16px;
                margin: 16px 0;
            }

            .momentum-diagram svg {
                height: 150px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <main class="main-content">
            <header class="week-header">
                <div class="header-top">
                    <button class="nav-toggle" aria-label="Toggle navigation menu" aria-expanded="false">
                        <span class="nav-toggle-line"></span>
                        <span class="nav-toggle-line"></span>
                        <span class="nav-toggle-line"></span>
                    </button>
                    <h1 class="week-title">Week 4: Momentum and Impulse</h1>
                </div>
                <p class="week-description">
                    This week, we'll explore how momentum is generated and transferred through the pitching motion, and how impulse determines the final velocity of a pitch.
                </p>
            </header>

            <section id="objectives" class="day-section">
                <h2>üéØ Learning Objectives</h2>
                <div class="objectives-container">
                    <ul class="objectives-list">
                        <li class="objective-item">
                            <span class="objective-icon">üìê</span>
                            <div class="objective-content">
                                <span class="objective-text">Define and calculate momentum and impulse in physical systems</span>
                                <span class="objective-difficulty basic">Basic</span>
                            </div>
                        </li>
                        <li class="objective-item">
                            <span class="objective-icon">‚ö°</span>
                            <div class="objective-content">
                                <span class="objective-text">Apply the impulse-momentum theorem to analyze pitching mechanics</span>
                                <span class="objective-difficulty advanced">Advanced</span>
                            </div>
                        </li>
                        <li class="objective-item">
                            <span class="objective-icon">üîó</span>
                            <div class="objective-content">
                                <span class="objective-text">Explain how momentum is transferred through the kinetic chain during pitching</span>
                                <span class="objective-difficulty intermediate">Intermediate</span>
                            </div>
                        </li>
                        <li class="objective-item">
                            <span class="objective-icon">üî¨</span>
                            <div class="objective-content">
                                <span class="objective-text">Measure and analyze the relationship between impulse and pitch velocity</span>
                                <span class="objective-difficulty expert">Expert</span>
                            </div>
                        </li>
                    </ul>
                </div>
            </section>

            <!-- Week Learning Roadmap -->
            <section class="week-roadmap-container" aria-labelledby="roadmap-title">
                <div class="roadmap-header">
                    <h2 id="roadmap-title">üõ§Ô∏è Week 4 Learning Journey: Mastering Momentum and Impulse</h2>
                    <p class="roadmap-subtitle">Explore the physics of momentum transfer and discover how impulse determines pitch effectiveness</p>
                </div>

                <div class="roadmap-content">
                    <div class="roadmap-steps">
                        <div class="roadmap-step" data-step="1">
                            <div class="step-marker">
                                <span class="step-number">1</span>
                                <div class="step-connector"></div>
                            </div>
                            <div class="step-content">
                                <h3 class="step-title">üìê Momentum Fundamentals</h3>
                                <p class="step-description">Master the concept of momentum (p = mv) and understand its vector nature in baseball physics</p>
                                <div class="step-skills">
                                    <span class="skill-tag">p = mv</span>
                                    <span class="skill-tag">Vector Quantity</span>
                                    <span class="skill-tag">Conservation Laws</span>
                                </div>
                            </div>
                        </div>

                        <div class="roadmap-step" data-step="2">
                            <div class="step-marker">
                                <span class="step-number">2</span>
                                <div class="step-connector"></div>
                            </div>
                            <div class="step-content">
                                <h3 class="step-title">‚ö° Impulse Mechanics</h3>
                                <p class="step-description">Understand impulse (J = FŒît) and how force applied over time changes momentum</p>
                                <div class="step-skills">
                                    <span class="skill-tag">J = FŒît</span>
                                    <span class="skill-tag">Contact Time</span>
                                    <span class="skill-tag">Force Application</span>
                                </div>
                            </div>
                        </div>

                        <div class="roadmap-step" data-step="3">
                            <div class="step-marker">
                                <span class="step-number">3</span>
                                <div class="step-connector"></div>
                            </div>
                            <div class="step-content">
                                <h3 class="step-title">üîÑ Impulse-Momentum Theorem</h3>
                                <p class="step-description">Connect impulse and momentum change through the fundamental theorem J = Œîp</p>
                                <div class="step-skills">
                                    <span class="skill-tag">J = Œîp</span>
                                    <span class="skill-tag">Momentum Change</span>
                                    <span class="skill-tag">Mathematical Proof</span>
                                </div>
                            </div>
                        </div>

                        <div class="roadmap-step" data-step="4">
                            <div class="step-marker">
                                <span class="step-number">4</span>
                                <div class="step-connector"></div>
                            </div>
                            <div class="step-content">
                                <h3 class="step-title">üîó Kinetic Chain Transfer</h3>
                                <p class="step-description">Analyze how momentum flows through the pitcher's body from legs to fingertips</p>
                                <div class="step-skills">
                                    <span class="skill-tag">Body Mechanics</span>
                                    <span class="skill-tag">Energy Transfer</span>
                                    <span class="skill-tag">Sequential Motion</span>
                                </div>
                            </div>
                        </div>

                        <div class="roadmap-step" data-step="5">
                            <div class="step-marker">
                                <span class="step-number">5</span>
                                <div class="step-connector"></div>
                            </div>
                            <div class="step-content">
                                <h3 class="step-title">‚öæ Baseball Applications</h3>
                                <p class="step-description">Apply momentum and impulse principles to pitching, hitting, and catching scenarios</p>
                                <div class="step-skills">
                                    <span class="skill-tag">Pitch Analysis</span>
                                    <span class="skill-tag">Bat-Ball Collision</span>
                                    <span class="skill-tag">Catching Techniques</span>
                                </div>
                            </div>
                        </div>

                        <div class="roadmap-step" data-step="6">
                            <div class="step-marker">
                                <span class="step-number">6</span>
                                <div class="step-connector"></div>
                            </div>
                            <div class="step-content">
                                <h3 class="step-title">üî¨ Experimental Analysis</h3>
                                <p class="step-description">Measure and analyze momentum and impulse in real baseball situations</p>
                                <div class="step-skills">
                                    <span class="skill-tag">Data Collection</span>
                                    <span class="skill-tag">Force Measurement</span>
                                    <span class="skill-tag">Video Analysis</span>
                                </div>
                            </div>
                        </div>

                        <div class="roadmap-step" data-step="7">
                            <div class="step-marker">
                                <span class="step-number">7</span>
                            </div>
                            <div class="step-content">
                                <h3 class="step-title">üéØ Performance Optimization</h3>
                                <p class="step-description">Use momentum and impulse principles to optimize pitching performance and technique</p>
                                <div class="step-skills">
                                    <span class="skill-tag">Technique Analysis</span>
                                    <span class="skill-tag">Performance Metrics</span>
                                    <span class="skill-tag">Optimization Strategies</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="day-section" id="day-1">
                <div class="day-header">
                    <h2 class="day-title">Day 1: Understanding Momentum</h2>
                    <div class="day-meta">
                        <span class="duration">50 minutes</span>
                        <span class="complexity">Introductory</span>
                    </div>
                </div>
                
                <div class="day-content">
                    <h3>üéØ Key Topics</h3>
                    <div class="topics-grid">
                        <div class="topic-card">
                            <span class="topic-icon">üìè</span>
                            <div class="topic-info">
                                <h4>Momentum Definition</h4>
                                <p>Product of mass and velocity (p = mv).</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">‚öæ</span>
                            <div class="topic-info">
                                <h4>Baseball Applications</h4>
                                <p>How momentum applies to pitch velocity.</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">üß≠</span>
                            <div class="topic-info">
                                <h4>Vector Properties</h4>
                                <p>Momentum has both magnitude and direction.</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">üßÆ</span>
                            <div class="topic-info">
                                <h4>Units & Calculations</h4>
                                <p>kg‚ãÖm/s and practical examples.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="concept-showcase">
                        <h3>üîë Momentum in Baseball</h3>
                        <div class="formula-display">
                            <h4>Vector Form: ‚Éóp = m‚Éóv</h4>
                            <p><strong>Units:</strong> kg‚ãÖm/s</p>
                        </div>
                        
                        <h4>Baseball Example:</h4>
                        <p><strong>Ball mass</strong> = 0.145 kg<br>
                        <strong>Pitch speed</strong> = 40 m/s (90 mph)<br>
                        <strong>Momentum</strong> = 0.145 √ó 40 = 5.8 kg‚ãÖm/s</p>
                        
                        <!-- Enhanced Interactive Momentum Analysis System -->
                        <div class="enhanced-momentum-analyzer">
                            <h4>üéØ Interactive Momentum Analysis System</h4>
                            <p class="analyzer-intro">Explore momentum physics with real-time calculations and visual momentum diagrams</p>

                            <!-- Momentum Calculator Controls -->
                            <div class="momentum-calculator-panel">
                                <h5>‚öôÔ∏è Momentum Parameters</h5>
                                <div class="calculator-controls-grid">
                                    <div class="control-section">
                                        <label class="control-label">Mass (kg): <span id="mass-display">0.145</span></label>
                                        <input type="range" id="mass-input" min="0.05" max="2.0" value="0.145" step="0.005">
                                        <div class="mass-indicators">
                                            <span class="mass-mark" data-mass="0.145">Baseball</span>
                                            <span class="mass-mark" data-mass="0.625">Softball</span>
                                            <span class="mass-mark" data-mass="1.5">Shot Put</span>
                                        </div>
                                    </div>
                                    <div class="control-section">
                                        <label class="control-label">Velocity (m/s): <span id="velocity-display">40</span></label>
                                        <input type="range" id="velocity-input" min="5" max="60" value="40" step="1">
                                        <div class="velocity-indicators">
                                            <span class="velocity-mark" data-velocity="20">Slow Pitch</span>
                                            <span class="velocity-mark" data-velocity="40">Fastball</span>
                                            <span class="velocity-mark" data-velocity="55">Elite</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Real-time Calculations Display -->
                                <div class="calculations-display">
                                    <div class="calc-result">
                                        <span class="calc-label">Momentum (p = mv):</span>
                                        <span class="calc-value momentum-value" id="momentum-result">5.8 kg‚ãÖm/s</span>
                                    </div>
                                    <div class="calc-result">
                                        <span class="calc-label">Velocity (mph):</span>
                                        <span class="calc-value velocity-value" id="velocity-mph-result">89.5 mph</span>
                                    </div>
                                    <div class="calc-result">
                                        <span class="calc-label">Kinetic Energy:</span>
                                        <span class="calc-value energy-value" id="kinetic-energy-result">116 J</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Visual Momentum Diagram -->
                            <div class="momentum-diagram-container">
                                <h5>üìä Momentum Vector Visualization</h5>
                                <div class="momentum-diagram" id="momentum-diagram">
                                    <svg width="400" height="200" viewBox="0 0 400 200">
                                        <!-- Background -->
                                        <rect width="100%" height="100%" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>

                                        <!-- Grid -->
                                        <defs>
                                            <pattern id="momentumGrid" width="20" height="20" patternUnits="userSpaceOnUse">
                                                <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#e5e7eb" stroke-width="0.5"/>
                                            </pattern>
                                        </defs>
                                        <rect width="100%" height="100%" fill="url(#momentumGrid)"/>

                                        <!-- Baseball object -->
                                        <circle id="momentum-ball" cx="100" cy="100" r="15" fill="#ff6b35" stroke="#e53e3e" stroke-width="2"/>
                                        <text x="100" y="105" text-anchor="middle" class="object-label">‚öæ</text>

                                        <!-- Momentum vector -->
                                        <defs>
                                            <marker id="momentum-arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                                <polygon points="0 0, 10 3.5, 0 7" fill="#1976d2"/>
                                            </marker>
                                        </defs>
                                        <line id="momentum-vector" x1="115" y1="100" x2="250" y2="100" stroke="#1976d2" stroke-width="4" marker-end="url(#momentum-arrowhead)"/>
                                        <text id="momentum-label" x="180" y="90" text-anchor="middle" class="vector-label">p = 5.8 kg‚ãÖm/s</text>

                                        <!-- Velocity vector (lighter) -->
                                        <line id="velocity-vector" x1="115" y1="120" x2="200" y2="120" stroke="#2196f3" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#momentum-arrowhead)"/>
                                        <text id="velocity-label" x="157" y="140" text-anchor="middle" class="vector-label-small">v = 40 m/s</text>

                                        <!-- Scale indicator -->
                                        <text x="20" y="30" class="scale-text">Scale: 1 unit = 1 kg‚ãÖm/s</text>
                                        <text x="20" y="180" class="legend-text">Blue solid = momentum, Blue dashed = velocity</text>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        
                        <h4>‚öæ Try These Scenarios:</h4>
                        <ul>
                            <li><strong>Pitching:</strong> Different pitch velocities and momentum</li>
                            <li><strong>Batting Contact:</strong> Massive momentum changes in hitting</li>
                            <li><strong>Catching:</strong> Momentum absorption techniques</li>
                        </ul>
                    </div>
                    
                    <h3>üöÄ Activities</h3>
                    <div class="activities-timeline">
                        <div class="activity-item">
                            <div class="activity-icon">üìä</div>
                            <div class="activity-content">
                                <h4>Momentum Calculations (15 min)</h4>
                                <p>Calculate momentum for different pitch speeds and ball masses using p = mv.</p>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">üé•</div>
                            <div class="activity-content">
                                <h4>Video Analysis (20 min)</h4>
                                <p>Watch slow-motion pitching videos to observe momentum buildup through body motion.</p>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">ü§î</div>
                            <div class="activity-content">
                                <h4>Momentum Scenarios (15 min)</h4>
                                <p>Discuss how different body types and pitching styles affect momentum generation.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="day-section" id="day-2">
                <div class="day-header">
                    <h2 class="day-title">Day 2: Understanding Impulse</h2>
                    <div class="day-meta">
                        <span class="duration">50 minutes</span>
                        <span class="complexity">Building</span>
                    </div>
                </div>
                
                <div class="day-content">
                    <h3>üéØ Key Topics</h3>
                    <div class="topics-grid">
                        <div class="topic-card">
                            <span class="topic-icon">‚è±Ô∏è</span>
                            <div class="topic-info">
                                <h4>Impulse Definition</h4>
                                <p>Product of force and time (J = FŒît).</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">‚öæ</span>
                            <div class="topic-info">
                                <h4>Baseball Contact Time</h4>
                                <p>Analyzing pitcher-ball contact duration.</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">üí™</span>
                            <div class="topic-info">
                                <h4>Force Application</h4>
                                <p>How force magnitude affects impulse.</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">üîÑ</span>
                            <div class="topic-info">
                                <h4>Follow-Through Importance</h4>
                                <p>Why extending contact time matters.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="concept-showcase">
                        <h3>üîë Impulse: Force Over Time</h3>
                        <div class="formula-display">
                            <h4>Mathematical Form: ‚ÉóJ = ‚ÉóFŒît</h4>
                            <p><strong>Units:</strong> N‚ãÖs = kg‚ãÖm/s (same as momentum!)</p>
                        </div>
                        
                        <h4>Baseball Applications:</h4>
                        <ul>
                            <li><strong>Pitcher's hand contact:</strong> ~0.01 seconds</li>
                            <li><strong>Force application:</strong> Hundreds of Newtons</li>
                            <li><strong>Result:</strong> Ball velocity up to 100+ mph</li>
                            <li><strong>Key Point:</strong> Longer contact time or greater force = higher velocity</li>
                        </ul>
                        
                        <div class="calculator-container">
                            <h4>‚è±Ô∏è Interactive Impulse Calculator</h4>
                            <div class="calculator-controls">
                                <div class="control-group">
                                    <label>Force (N): <input type="number" id="impulse-force" value="500" step="10" min="0"></label>
                                </div>
                                <div class="control-group">
                                    <label>Time (s): <input type="number" id="impulse-time" value="0.01" step="0.001" min="0"></label>
                                </div>
                                <button id="calc-impulse-btn" class="calculate-button">Calculate Impulse</button>
                            </div>
                            <div class="calculator-results">
                                <div class="result-item">
                                    <strong>Impulse:</strong> <span id="impulse-result">5.0 N‚ãÖs</span>
                                </div>
                                <div class="result-item">
                                    <strong>Momentum Change:</strong> <span id="momentum-change">5.0 kg‚ãÖm/s</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <h3>üöÄ Activities</h3>
                    <div class="activities-timeline">
                        <div class="activity-item">
                            <div class="activity-icon">üßÆ</div>
                            <div class="activity-content">
                                <h4>Impulse Calculations (15 min)</h4>
                                <p>Calculate impulse using J = FŒît for various force and time combinations.</p>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">‚è±Ô∏è</div>
                            <div class="activity-content">
                                <h4>Contact Time Analysis (20 min)</h4>
                                <p>Measure and compare contact times in different throwing motions.</p>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">üìä</div>
                            <div class="activity-content">
                                <h4>Force-Time Variations (15 min)</h4>
                                <p>Demonstrate how same impulse can be achieved with different force-time combinations.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="day-section" id="day-3">
                <div class="day-header">
                    <h2 class="day-title">Day 3: Impulse-Momentum Theorem</h2>
                    <div class="day-meta">
                        <span class="duration">50 minutes</span>
                        <span class="complexity">Experimental</span>
                    </div>
                </div>
                
                <div class="day-content">
                    <h3>üéØ Key Topics</h3>
                    <div class="topics-grid">
                        <div class="topic-card">
                            <span class="topic-icon">‚öñÔ∏è</span>
                            <div class="topic-info">
                                <h4>Theorem Relationship</h4>
                                <p>J = Œîp connects impulse to momentum change.</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">üîó</span>
                            <div class="topic-info">
                                <h4>Kinetic Chain Transfer</h4>
                                <p>Momentum flows from legs to ball through body segments.</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">‚ö°</span>
                            <div class="topic-info">
                                <h4>Transfer Efficiency</h4>
                                <p>Timing and coordination maximize momentum transfer.</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">üèÜ</span>
                            <div class="topic-info">
                                <h4>Elite Performance</h4>
                                <p>How professional pitchers optimize momentum transfer.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="concept-showcase">
                        <h3>üîë The Impulse-Momentum Connection</h3>
                        <div class="formula-display">
                            <h4>The Relationship: ‚ÉóJ = Œî‚Éóp</h4>
                            <h5>Expanded Form: ‚ÉóFŒît = m‚Éóv<sub>f</sub> - m‚Éóv<sub>i</sub></h5>
                        </div>
                        
                        <h4>Kinetic Chain Transfer:</h4>
                        <div class="kinetic-chain">
                            <p><strong>Legs ‚Üí Hips ‚Üí Torso ‚Üí Shoulder ‚Üí Arm ‚Üí Ball</strong></p>
                            <p><em>Large mass, slow speed ‚Üí Small mass, high speed</em></p>
                        </div>
                        
                        <div class="calculator-container">
                            <h4>‚öñÔ∏è Impulse-Momentum Calculator</h4>
                            <div class="calculator-controls">
                                <div class="control-group">
                                    <label>Initial Velocity (m/s): <input type="number" id="vi-input" value="0" step="1" min="0"></label>
                                </div>
                                <div class="control-group">
                                    <label>Final Velocity (m/s): <input type="number" id="vf-input" value="40" step="1" min="0"></label>
                                </div>
                                <div class="control-group">
                                    <label>Mass (kg): <input type="number" id="mass-theorem" value="0.145" step="0.001" min="0"></label>
                                </div>
                                <button id="calc-theorem-btn" class="calculate-button">Calculate Œîp</button>
                            </div>
                            <div class="calculator-results">
                                <div class="result-item">
                                    <strong>Momentum Change (Œîp):</strong> <span id="delta-momentum">5.8 kg‚ãÖm/s</span>
                                </div>
                                <div class="result-item">
                                    <strong>Required Impulse (J):</strong> <span id="required-impulse">5.8 N‚ãÖs</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <h3>üöÄ Activities</h3>
                    <div class="activities-timeline">
                        <div class="activity-item">
                            <div class="activity-icon">üìê</div>
                            <div class="activity-content">
                                <h4>Theorem Calculations (15 min)</h4>
                                <p>Use J = Œîp to solve for unknown forces, times, or velocity changes.</p>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">üé≠</div>
                            <div class="activity-content">
                                <h4>Professional Analysis (25 min)</h4>
                                <p>Analyze momentum transfer in professional pitchers using video and data.</p>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">üí°</div>
                            <div class="activity-content">
                                <h4>Optimization Discussion (10 min)</h4>
                                <p>Brainstorm techniques for maximizing impulse in pitching mechanics.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="day-section" id="day-4">
                <div class="day-header">
                    <h2 class="day-title">Day 4: Laboratory Investigation</h2>
                    <div class="day-meta">
                        <span class="duration">50 minutes</span>
                        <span class="complexity">Experimental</span>
                    </div>
                </div>
                
                <div class="day-content">
                    <h3>üéØ Key Topics</h3>
                    <div class="topics-grid">
                        <div class="topic-card">
                            <span class="topic-icon">üì±</span>
                            <div class="topic-info">
                                <h4>High-Speed Analysis</h4>
                                <p>Using video to measure contact times and velocities.</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">üìè</span>
                            <div class="topic-info">
                                <h4>Momentum Measurements</h4>
                                <p>Calculating momentum changes from velocity data.</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">üî¨</span>
                            <div class="topic-info">
                                <h4>Experimental Verification</h4>
                                <p>Testing the impulse-momentum theorem experimentally.</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">üìä</span>
                            <div class="topic-info">
                                <h4>Data Analysis</h4>
                                <p>Interpreting results and identifying patterns.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="concept-showcase">
                        <h3>üî¨ Lab: Force-Time Relationships</h3>
                        <div class="procedure-timeline">
                            <div class="procedure-step">
                                <div class="step-number">1</div>
                                <div class="step-icon">üì±</div>
                                <div class="step-content">
                                    <h4>High-Speed Recording (20 min)</h4>
                                    <p>Capture pitching motions at high frame rates and measure contact times</p>
                                </div>
                            </div>
                            <div class="procedure-step">
                                <div class="step-number">2</div>
                                <div class="step-icon">üìä</div>
                                <div class="step-content">
                                    <h4>Momentum Analysis (20 min)</h4>
                                    <p>Calculate momentum changes and impulse from velocity measurements</p>
                                </div>
                            </div>
                            <div class="procedure-step">
                                <div class="step-number">3</div>
                                <div class="step-icon">üî¨</div>
                                <div class="step-content">
                                    <h4>Theorem Verification (10 min)</h4>
                                    <p>Compare calculated impulse with momentum changes to verify J = Œîp</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <h3>üöÄ Activities</h3>
                    <div class="activities-timeline">
                        <div class="activity-item">
                            <div class="activity-icon">‚è±Ô∏è</div>
                            <div class="activity-content">
                                <h4>Force-Time Analysis (20 min)</h4>
                                <p>Measure contact time and velocity changes to calculate impulse.</p>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">üîÑ</div>
                            <div class="activity-content">
                                <h4>Momentum Transfer Study (20 min)</h4>
                                <p>Analyze body segment contributions to total momentum.</p>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">‚úÖ</div>
                            <div class="activity-content">
                                <h4>Theorem Verification (10 min)</h4>
                                <p>Verify J = Œîp using experimental measurements.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="day-section" id="day-5">
                <div class="day-header">
                    <h2 class="day-title">Day 5: Applications and Assessment</h2>
                    <div class="day-meta">
                        <span class="duration">50 minutes</span>
                        <span class="complexity">Synthesis</span>
                    </div>
                </div>
                
                <div class="day-content">
                    <h3>üéØ Key Topics</h3>
                    <div class="topics-grid">
                        <div class="topic-card">
                            <span class="topic-icon">üèÜ</span>
                            <div class="topic-info">
                                <h4>Professional Case Studies</h4>
                                <p>Analyze elite pitchers' momentum transfer techniques.</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">üë§</span>
                            <div class="topic-info">
                                <h4>Body Type Variations</h4>
                                <p>How different physiques optimize momentum transfer.</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">üéØ</span>
                            <div class="topic-info">
                                <h4>Technique Optimization</h4>
                                <p>Methods for maximizing impulse delivery.</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">üìà</span>
                            <div class="topic-info">
                                <h4>Performance Analysis</h4>
                                <p>Connecting theory to measurable improvements.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="concept-showcase">
                        <h3>üéØ Week 4 Synthesis: Momentum Mastery</h3>
                        <div class="procedure-timeline">
                            <div class="procedure-step">
                                <div class="step-number">1</div>
                                <div class="step-icon">üìπ</div>
                                <div class="step-content">
                                    <h4>Self-Analysis (15 min)</h4>
                                    <p>Record your own pitching motion and identify momentum transfer points</p>
                                </div>
                            </div>
                            <div class="procedure-step">
                                <div class="step-number">2</div>
                                <div class="step-icon">üî¨</div>
                                <div class="step-content">
                                    <h4>Impulse Calculation (20 min)</h4>
                                    <p>Apply J = Œîp to analyze your pitching efficiency</p>
                                </div>
                            </div>
                            <div class="procedure-step">
                                <div class="step-number">3</div>
                                <div class="step-icon">üí°</div>
                                <div class="step-content">
                                    <h4>Improvement Plan (15 min)</h4>
                                    <p>Develop strategies to optimize your momentum transfer</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <h3>üöÄ Activities</h3>
                    <div class="activities-timeline">
                        <div class="activity-item">
                            <div class="activity-icon">‚≠ê</div>
                            <div class="activity-content">
                                <h4>Elite Pitcher Analysis (20 min)</h4>
                                <p>Study momentum transfer in professional pitchers like Chapman, Ryan, Johnson.</p>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">üéØ</div>
                            <div class="activity-content">
                                <h4>Optimization Strategies (20 min)</h4>
                                <p>Develop techniques for maximizing individual momentum transfer efficiency.</p>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">üìù</div>
                            <div class="activity-content">
                                <h4>Knowledge Assessment (10 min)</h4>
                                <p>Demonstrate understanding of impulse-momentum concepts and applications.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Assessment Section -->
            <section class="assessment-section">
                <h2>üìù Week 4 Assessment</h2>
                
                <div class="assessment-tabs">
                    <button class="tab-button active" data-tab="quiz">Quiz</button>
                    <button class="tab-button" data-tab="practice">Practice Problems</button>
                    <button class="tab-button" data-tab="lab">Lab Report</button>
                </div>
                
                <div class="tab-content active" id="quiz-tab">
                    <div class="assessment-preview">
                        <div class="preview-header">
                            <h3>üìù Quiz Topics</h3>
                            <div class="difficulty-badges">
                                <span class="difficulty-badge basic">Basic</span>
                                <span class="difficulty-badge intermediate">Intermediate</span>
                                <span class="difficulty-badge advanced">Advanced</span>
                            </div>
                        </div>
                        
                        <div class="topic-previews">
                            <div class="topic-preview">
                                <div class="preview-icon">üöÄ</div>
                                <div class="preview-content">
                                    <h4>Momentum Fundamentals</h4>
                                    <p>Test understanding of momentum concepts and their applications in baseball pitching dynamics.</p>
                                    <div class="preview-tags">
                                        <span class="tag">Linear Momentum</span>
                                        <span class="tag">Conservation</span>
                                        <span class="tag">Mass √ó Velocity</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="topic-preview">
                                <div class="preview-icon">‚ö°</div>
                                <div class="preview-content">
                                    <h4>Impulse and Change in Momentum</h4>
                                    <p>Apply impulse-momentum theorem to analyze force-time relationships in baseball.</p>
                                    <div class="preview-tags">
                                        <span class="tag">Impulse = Œîp</span>
                                        <span class="tag">Force √ó Time</span>
                                        <span class="tag">Ball-Hand Interaction</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="topic-preview">
                                <div class="preview-icon">‚öæ</div>
                                <div class="preview-content">
                                    <h4>Pitching Mechanics Applications</h4>
                                    <p>Analyze momentum transfer through kinetic chain and optimize pitching efficiency.</p>
                                    <div class="preview-tags">
                                        <span class="tag">Momentum Transfer</span>
                                        <span class="tag">Kinetic Chain</span>
                                        <span class="tag">Energy Efficiency</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="assessment-actions">
                            <div class="assessment-cta">
                                <p class="cta-text">Ready to test your knowledge?</p>
                                <button class="btn btn-primary assessment-start-btn" id="start-quiz" aria-label="Start Week 4 Momentum and Impulse Quiz">
                                    <span class="loading-spinner" style="display: none;" aria-hidden="true"></span>
                                    <span class="btn-icon">üöÄ</span>
                                    <span class="btn-text">Start Interactive Quiz</span>
                                </button>
                                <p class="assessment-info">15-20 questions ‚Ä¢ ~12 minutes</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="practice-tab">
                    <div class="assessment-preview">
                        <div class="preview-header">
                            <h3>üéØ Practice Problems</h3>
                            <div class="difficulty-badges">
                                <span class="difficulty-badge basic">Guided</span>
                                <span class="difficulty-badge intermediate">Independent</span>
                                <span class="difficulty-badge advanced">Challenge</span>
                            </div>
                        </div>
                        
                        <div class="problem-categories">
                            <div class="category-card">
                                <div class="category-header">
                                    <span class="category-icon">üìê</span>
                                    <h4>Momentum Calculations</h4>
                                </div>
                                <div class="category-content">
                                    <p><strong>Problem Set A:</strong> Calculate momentum and apply conservation principles to baseball scenarios.</p>
                                    <ul class="problem-list">
                                        <li>üöÄ Linear momentum calculations for pitched baseballs</li>
                                        <li>‚öñÔ∏è Conservation of momentum in ball-glove interactions</li>
                                        <li>üìä Momentum changes during different pitch types</li>
                                        <li>üî¢ Mass-velocity relationships in pitching mechanics</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="category-card">
                                <div class="category-header">
                                    <span class="category-icon">‚ö°</span>
                                    <h4>Impulse Analysis</h4>
                                </div>
                                <div class="category-content">
                                    <p><strong>Problem Set B:</strong> Apply impulse-momentum theorem to analyze force-time relationships.</p>
                                    <ul class="problem-list">
                                        <li>‚è±Ô∏è Force-time analysis during ball release</li>
                                        <li>ü§ö Hand-ball interaction impulse calculations</li>
                                        <li>üìà Impulse optimization for maximum velocity</li>
                                        <li>üéØ Comparing impulse across different pitching styles</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="category-card">
                                <div class="category-header">
                                    <span class="category-icon">üîó</span>
                                    <h4>Kinetic Chain Analysis</h4>
                                </div>
                                <div class="category-content">
                                    <p><strong>Problem Set C:</strong> Complex momentum transfer problems through the pitching sequence.</p>
                                    <ul class="problem-list">
                                        <li>ü¶µ Leg drive momentum contribution to pitch velocity</li>
                                        <li>üîÑ Sequential momentum transfer through body segments</li>
                                        <li>‚öôÔ∏è Efficiency analysis of momentum conservation</li>
                                        <li>üèÜ Advanced multi-segment momentum problems</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="assessment-actions">
                            <div class="assessment-cta">
                                <p class="cta-text">Practice makes perfect!</p>
                                <button class="btn btn-secondary assessment-start-btn" id="start-practice" aria-label="Start Week 4 Practice Problems">
                                    <span class="loading-spinner" style="display: none;" aria-hidden="true"></span>
                                    <span class="btn-icon">üéØ</span>
                                    <span class="btn-text">Start Practice Problems</span>
                                </button>
                                <p class="assessment-info">5 comprehensive problems ‚Ä¢ Detailed solutions</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="lab-tab">
                    <div class="assessment-preview">
                        <div class="preview-header">
                            <h3>üî¨ Laboratory Experiment</h3>
                            <div class="lab-badges">
                                <span class="lab-badge data">Data Collection</span>
                                <span class="lab-badge analysis">Analysis</span>
                                <span class="lab-badge report">Report Writing</span>
                            </div>
                        </div>
                        
                        <div class="lab-overview">
                            <div class="lab-card">
                                <div class="lab-header">
                                    <span class="lab-icon">‚ö°</span>
                                    <h4>Impulse and Momentum in Baseball Pitching</h4>
                                </div>
                                <div class="lab-content">
                                    <p><strong>Objective:</strong> Investigate momentum transfer through the kinetic chain and analyze impulse effects on pitch velocity and accuracy.</p>
                                    
                                    <div class="lab-sections">
                                        <div class="lab-section">
                                            <h5>üìã Pre-Lab Preparation</h5>
                                            <ul>
                                                <li>Review momentum and impulse equations and concepts</li>
                                                <li>Set up motion capture system for kinetic chain analysis</li>
                                                <li>Prepare force sensors and high-speed cameras</li>
                                                <li>Safety protocols for biomechanical measurements</li>
                                            </ul>
                                        </div>
                                        
                                        <div class="lab-section">
                                            <h5>üî¨ Experimental Procedure</h5>
                                            <ul>
                                                <li>Record segmental velocities throughout pitching motion</li>
                                                <li>Measure force-time profiles during ball release</li>
                                                <li>Calculate momentum transfer between body segments</li>
                                                <li>Analyze impulse delivery during hand-ball interaction</li>
                                                <li>Compare momentum efficiency across different pitch types</li>
                                            </ul>
                                        </div>
                                        
                                        <div class="lab-section">
                                            <h5>üìä Data Analysis</h5>
                                            <ul>
                                                <li>Calculate linear momentum for each body segment</li>
                                                <li>Apply impulse-momentum theorem to force-time data</li>
                                                <li>Determine momentum transfer efficiency percentages</li>
                                                <li>Create graphs showing momentum flow through kinetic chain</li>
                                            </ul>
                                        </div>
                                        
                                        <div class="lab-section">
                                            <h5>üìù Lab Report Components</h5>
                                            <ul>
                                                <li>Introduction: Momentum and impulse principles in baseball</li>
                                                <li>Methods: Motion capture and force measurement procedures</li>
                                                <li>Results: Momentum calculations, graphs, and statistical analysis</li>
                                                <li>Discussion: Momentum transfer efficiency and pitching optimization</li>
                                                <li>Conclusion: Applications for improving pitching mechanics</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="assessment-actions">
                            <div class="assessment-cta">
                                <p class="cta-text">Ready for hands-on investigation?</p>
                                <button class="btn btn-accent assessment-start-btn" id="start-lab" aria-label="Start Week 4 Laboratory Investigation">
                                    <span class="loading-spinner" style="display: none;" aria-hidden="true"></span>
                                    <span class="btn-icon">üî¨</span>
                                    <span class="btn-text">Start Lab Investigation</span>
                                </button>
                                <p class="assessment-info">Momentum measurement ‚Ä¢ Impact analysis ‚Ä¢ Report writing</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <nav class="nav-sidebar">
            <div class="nav-header">
                <div class="nav-title">Physics of Baseball</div>
                <div class="nav-subtitle">Week 4: Momentum and Impulse</div>
            </div>

            <div class="home-nav">
                <a href="../index.html" class="home-link"><span>üè†</span><span>Course Home</span></a>
            </div>

            <div class="week-nav">
                <div class="nav-section-title">Weeks</div>
                <div class="week-links">
                    <a href="week-01.html" class="week-link"><span>1</span><span>Introduction to Motion</span></a>
                    <a href="week-02.html" class="week-link"><span>2</span><span>Projectile Motion</span></a>
                    <a href="week-03.html" class="week-link"><span>3</span><span>Forces and Newton's Laws</span></a>
                    <a href="week-04.html" class="week-link active"><span>4</span><span>Momentum and Impulse</span></a>
                    <a href="week-05.html" class="week-link"><span>5</span><span>Work and Energy</span></a>
                    <a href="week-06.html" class="week-link"><span>6</span><span>Circular Motion</span></a>
                    <a href="week-07.html" class="week-link"><span>7</span><span>Torque and Angular Momentum</span></a>
                    <a href="week-08.html" class="week-link"><span>8</span><span>Physics of Spin</span></a>
                    <a href="week-09.html" class="week-link"><span>9</span><span>Aerodynamics</span></a>
                    <a href="week-10.html" class="week-link"><span>10</span><span>Pitching Mechanics</span></a>
                    <a href="week-11.html" class="week-link"><span>11</span><span>Measurement and Data</span></a>
                    <a href="week-12.html" class="week-link"><span>12</span><span>Equipment Physics</span></a>
                    <a href="week-13.html" class="week-link"><span>13</span><span>Review and Application</span></a>
                </div>
            </div>

            <div class="daily-nav">
                <div class="nav-section-title">This Week</div>
                <div class="daily-links">
                    <a href="#day-1" class="daily-link"><span>üìè</span><span>Understanding Momentum</span></a>
                    <a href="#day-2" class="daily-link"><span>‚è±Ô∏è</span><span>Understanding Impulse</span></a>
                    <a href="#day-3" class="daily-link"><span>‚öñÔ∏è</span><span>Impulse-Momentum Theorem</span></a>
                    <a href="#day-4" class="daily-link"><span>üî¨</span><span>Laboratory Investigation</span></a>
                    <a href="#day-5" class="daily-link"><span>üèÜ</span><span>Applications and Assessment</span></a>
                </div>
            </div>
        </nav>
    </div>

    <script type="module" src="../js/main.js"></script>
    <script src="../js/week-template.js"></script>
    <script type="module">
        import { VelocityCalculator } from '../js/calculators.js';
        import { EnhancedQuizSystem } from '../js/enhanced-assessment.js';
        import InteractiveLearningSystem from '../js/interactive-learning.js';

        // Initialize enhanced systems on DOM ready
        document.addEventListener('DOMContentLoaded', async function() {
            // Initialize enhanced assessment system
            const quizContainer = document.getElementById('quiz-content');
            if (quizContainer) {
                const enhancedAssessmentSystem = new EnhancedQuizSystem('quiz-content');
                await enhancedAssessmentSystem.createQuiz('week4');
                window.assessmentSystem = enhancedAssessmentSystem;
            }

            // Initialize interactive learning system
            window.interactiveLearningSystem = new InteractiveLearningSystem();
        });

        // Assessment button handlers
        document.addEventListener('DOMContentLoaded', function() {
            // Quiz functionality
            const startQuizBtn = document.getElementById('start-quiz');
            if (startQuizBtn) {
                startQuizBtn.addEventListener('click', async function() {
                    const spinner = this.querySelector('.loading-spinner');
                    if (spinner) spinner.style.display = 'inline-block';
                    this.disabled = true;
                    
                    try {
                        const quizTab = document.getElementById('quiz-tab');
                        quizTab.innerHTML = '<div id="week4-quiz-container"></div>';
                        
                        const quizSystem = new QuizSystem('week4-quiz-container');
                        await quizSystem.createQuiz('week4');
                        
                        document.querySelector('[data-tab="quiz"]').click();
                    } catch (error) {
                        console.error('Failed to load quiz:', error);
                        alert('Failed to load quiz. Please try again.');
                    } finally {
                        if (spinner) spinner.style.display = 'none';
                        this.disabled = false;
                    }
                });
            }
            
            // Practice problems functionality
            const startPracticeBtn = document.getElementById('start-practice');
            if (startPracticeBtn) {
                startPracticeBtn.addEventListener('click', function() {
                    const practiceTab = document.getElementById('practice-tab');
                    practiceTab.innerHTML = `
                        <div class="practice-problems">
                            <h3>üéØ Week 4 Practice Problems: Momentum and Impulse</h3>
                            <div class="problem-set">
                                <div class="problem-card">
                                    <h4>Problem 1: Momentum Calculation</h4>
                                    <p>A 0.145 kg baseball is thrown with a velocity of 42 m/s (94 mph). Calculate:</p>
                                    <ol>
                                        <li>The momentum of the baseball</li>
                                        <li>What force would be required to stop this ball in 0.05 seconds?</li>
                                        <li>How would the momentum change if the ball's velocity increased to 45 m/s?</li>
                                    </ol>
                                    <div class="solution-box">
                                        <p><strong>üí° Solution:</strong></p>
                                        <p><strong>Given:</strong> m = 0.145 kg, v = 42 m/s</p>
                                        <p><strong>1. Momentum:</strong> p = mv = 0.145 √ó 42 = 6.09 kg‚ãÖm/s</p>
                                        <p><strong>2. Stopping Force:</strong> Using J = Œîp: F = Œîp/Œît = 6.09/0.05 = 121.8 N</p>
                                        <p><strong>3. New Momentum:</strong> p = 0.145 √ó 45 = 6.53 kg‚ãÖm/s (increase of 0.44 kg‚ãÖm/s)</p>
                                    </div>
                                </div>
                                
                                <div class="problem-card">
                                    <h4>Problem 2: Impulse and Force</h4>
                                    <p>During the pitching motion, a pitcher applies an average force of 800 N to the baseball for 0.008 seconds. The ball starts from rest. Calculate:</p>
                                    <ol>
                                        <li>The impulse delivered to the ball</li>
                                        <li>The final velocity of the 0.145 kg ball</li>
                                        <li>How the velocity would change if contact time doubled</li>
                                    </ol>
                                    <div class="solution-box">
                                        <p><strong>üí° Solution:</strong></p>
                                        <p><strong>Given:</strong> F = 800 N, t = 0.008 s, m = 0.145 kg, v‚ÇÄ = 0</p>
                                        <p><strong>1. Impulse:</strong> J = F‚ãÖt = 800 √ó 0.008 = 6.4 N‚ãÖs</p>
                                        <p><strong>2. Final Velocity:</strong> v = J/m = 6.4/0.145 = 44.1 m/s (98.7 mph)</p>
                                        <p><strong>3. Doubled Contact Time:</strong> If t = 0.016 s: J = 12.8 N‚ãÖs, v = 88.3 m/s (velocity doubles)</p>
                                    </div>
                                </div>
                                
                                <div class="problem-card">
                                    <h4>Problem 3: Momentum Transfer</h4>
                                    <p>A pitcher's hand has a mass of 0.5 kg and moves at 8 m/s just before releasing the ball. After release, the hand slows to 6 m/s. Calculate:</p>
                                    <ol>
                                        <li>The momentum change of the pitcher's hand</li>
                                        <li>The momentum gained by the ball (assuming conservation)</li>
                                        <li>The ball's velocity if it has mass 0.145 kg</li>
                                    </ol>
                                    <div class="solution-box">
                                        <p><strong>üí° Solution:</strong></p>
                                        <p><strong>Given:</strong> m_hand = 0.5 kg, v‚ÇÅ = 8 m/s, v‚ÇÇ = 6 m/s, m_ball = 0.145 kg</p>
                                        <p><strong>1. Hand Momentum Change:</strong> Œîp_hand = 0.5 √ó (6 - 8) = -1.0 kg‚ãÖm/s</p>
                                        <p><strong>2. Ball Momentum:</strong> By conservation: Œîp_ball = +1.0 kg‚ãÖm/s</p>
                                        <p><strong>3. Ball Velocity:</strong> v_ball = Œîp_ball/m_ball = 1.0/0.145 = 6.9 m/s (15.4 mph)</p>
                                        <p><em>Note: This simplified model doesn't account for all momentum sources in pitching.</em></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    
                    document.querySelector('[data-tab="practice"]').click();
                });
            }
            
            // Lab functionality
            const startLabBtn = document.getElementById('start-lab');
            if (startLabBtn) {
                startLabBtn.addEventListener('click', function() {
                    const labTab = document.getElementById('lab-tab');
                    labTab.innerHTML = `
                        <div class="lab-container">
                            <h3>üî¨ Week 4 Lab: Momentum and Impulse Analysis</h3>
                            <div class="lab-report-template">
                                <h4>Lab Report Template</h4>
                                <div class="lab-section">
                                    <h5>Objective</h5>
                                    <p>Investigate the relationship between impulse and momentum change in baseball pitching mechanics, and analyze the efficiency of momentum transfer through the kinetic chain.</p>
                                </div>
                                <div class="lab-section">
                                    <h5>Materials</h5>
                                    <ul>
                                        <li>High-speed camera (120+ fps)</li>
                                        <li>Force sensors or strain gauges</li>
                                        <li>Radar gun for velocity measurement</li>
                                        <li>Motion analysis software</li>
                                        <li>Baseballs and pitching equipment</li>
                                        <li>Timing equipment for contact duration</li>
                                    </ul>
                                </div>
                                <div class="lab-section">
                                    <h5>Procedure</h5>
                                    <ol>
                                        <li>Set up high-speed recording of pitching motion</li>
                                        <li>Measure initial and final velocities of body segments</li>
                                        <li>Record ball velocity before and after release</li>
                                        <li>Measure force-time profile during ball release (if possible)</li>
                                        <li>Calculate momentum for each body segment</li>
                                        <li>Apply impulse-momentum theorem to analyze transfer</li>
                                        <li>Compare efficiency across different pitching styles</li>
                                    </ol>
                                </div>
                                <div class="lab-section">
                                    <h5>Data Analysis</h5>
                                    <p>Calculate momentum changes for each body segment. Use J = Œîp to verify impulse calculations. Create graphs showing momentum flow through the kinetic chain and analyze transfer efficiency.</p>
                                </div>
                                <div class="lab-section">
                                    <h5>Expected Results</h5>
                                    <p>Momentum should flow from large, slow-moving segments (legs, torso) to smaller, faster-moving segments (arm, hand, ball). The sum of momentum changes should demonstrate conservation principles.</p>
                                </div>
                            </div>
                        </div>
                    `;
                    document.querySelector('[data-tab="lab"]').click();
                });
            }
        });

        // Tab functionality
        document.querySelectorAll('.tab-button').forEach(button => {
            button.addEventListener('click', () => {
                // Remove active class from all buttons and content
                document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                
                // Add active class to clicked button
                button.classList.add('active');
                
                // Show corresponding content
                const tabName = button.getAttribute('data-tab');
                const tabContent = document.getElementById(`${tabName}-tab`);
                if (tabContent) {
                    tabContent.classList.add('active');
                }
            });
        });
    </script>
    <script>
        // Week 4 Enhanced Momentum and Impulse Calculators
        document.addEventListener('DOMContentLoaded', function() {
            // Enhanced Momentum Calculator Elements
            const massInput = document.getElementById('mass-input');
            const velocityInput = document.getElementById('velocity-input');
            const massDisplay = document.getElementById('mass-display');
            const velocityDisplay = document.getElementById('velocity-display');
            const momentumResult = document.getElementById('momentum-result');
            const velocityMphResult = document.getElementById('velocity-mph-result');
            const kineticEnergyResult = document.getElementById('kinetic-energy-result');

            // SVG Elements for visual diagram
            const momentumVector = document.getElementById('momentum-vector');
            const velocityVector = document.getElementById('velocity-vector');
            const momentumLabel = document.getElementById('momentum-label');
            const velocityLabel = document.getElementById('velocity-label');

            function updateMomentumCalculator() {
                const mass = parseFloat(massInput.value);
                const velocity = parseFloat(velocityInput.value);

                // Update displays
                massDisplay.textContent = mass.toFixed(3);
                velocityDisplay.textContent = velocity.toFixed(0);

                // Calculate values
                const momentum = mass * velocity;
                const velocityMph = velocity * 2.237; // Convert m/s to mph
                const kineticEnergy = 0.5 * mass * velocity * velocity; // KE = 1/2 mv¬≤

                // Update result displays
                momentumResult.textContent = momentum.toFixed(2) + ' kg‚ãÖm/s';
                velocityMphResult.textContent = velocityMph.toFixed(1) + ' mph';
                kineticEnergyResult.textContent = kineticEnergy.toFixed(0) + ' J';

                // Update visual diagram
                updateMomentumDiagram(momentum, velocity);
            }

            function updateMomentumDiagram(momentum, velocity) {
                // Scale vectors based on values
                const baseX = 115;
                const baseY1 = 100; // momentum vector
                const baseY2 = 120; // velocity vector

                // Scale momentum vector (max length ~135 units for momentum up to 20)
                const momentumLength = Math.min(momentum * 6.5, 135);
                const momentumEndX = baseX + momentumLength;

                // Scale velocity vector (max length ~85 units for velocity up to 60)
                const velocityLength = Math.min(velocity * 1.4, 85);
                const velocityEndX = baseX + velocityLength;

                // Update vector lines
                momentumVector.setAttribute('x2', momentumEndX);
                velocityVector.setAttribute('x2', velocityEndX);

                // Update labels
                momentumLabel.textContent = `p = ${momentum.toFixed(1)} kg‚ãÖm/s`;
                momentumLabel.setAttribute('x', (baseX + momentumEndX) / 2);

                velocityLabel.textContent = `v = ${velocity} m/s`;
                velocityLabel.setAttribute('x', (baseX + velocityEndX) / 2);
            }

            // Event listeners for real-time updates
            massInput.addEventListener('input', updateMomentumCalculator);
            velocityInput.addEventListener('input', updateMomentumCalculator);

            // Initial calculation
            updateMomentumCalculator();
            
            // Impulse Calculator
            const impulseForce = document.getElementById('impulse-force');
            const impulseTime = document.getElementById('impulse-time');
            const calcImpulseBtn = document.getElementById('calc-impulse-btn');
            const impulseResult = document.getElementById('impulse-result');
            const momentumChange = document.getElementById('momentum-change');
            
            function calculateImpulse() {
                const force = parseFloat(impulseForce.value);
                const time = parseFloat(impulseTime.value);
                
                if (isNaN(force) || isNaN(time) || force < 0 || time <= 0) {
                    impulseResult.textContent = 'Invalid input';
                    momentumChange.textContent = '--';
                    return;
                }
                
                const impulse = force * time;
                
                impulseResult.textContent = impulse.toFixed(1) + ' N‚ãÖs';
                momentumChange.textContent = impulse.toFixed(1) + ' kg‚ãÖm/s';
            }
            
            // Impulse-Momentum Theorem Calculator
            const viInput = document.getElementById('vi-input');
            const vfInput = document.getElementById('vf-input');
            const massTheorem = document.getElementById('mass-theorem');
            const calcTheoremBtn = document.getElementById('calc-theorem-btn');
            const deltaMomentum = document.getElementById('delta-momentum');
            const requiredImpulse = document.getElementById('required-impulse');
            
            function calculateTheorem() {
                const vi = parseFloat(viInput.value);
                const vf = parseFloat(vfInput.value);
                const mass = parseFloat(massTheorem.value);
                
                if (isNaN(vi) || isNaN(vf) || isNaN(mass) || mass <= 0) {
                    deltaMomentum.textContent = 'Invalid input';
                    requiredImpulse.textContent = '--';
                    return;
                }
                
                const deltaP = mass * (vf - vi);
                
                deltaMomentum.textContent = deltaP.toFixed(2) + ' kg‚ãÖm/s';
                requiredImpulse.textContent = deltaP.toFixed(2) + ' N‚ãÖs';
            }
            
            // Legacy calculator event listeners (for any remaining basic calculators)
            if (calcMomentumBtn) calcMomentumBtn.addEventListener('click', calculateMomentum);
            if (momentumMass) momentumMass.addEventListener('input', calculateMomentum);
            if (momentumVelocity) momentumVelocity.addEventListener('input', calculateMomentum);
            
            calcImpulseBtn.addEventListener('click', calculateImpulse);
            impulseForce.addEventListener('input', calculateImpulse);
            impulseTime.addEventListener('input', calculateImpulse);
            
            calcTheoremBtn.addEventListener('click', calculateTheorem);
            viInput.addEventListener('input', calculateTheorem);
            vfInput.addEventListener('input', calculateTheorem);
            massTheorem.addEventListener('input', calculateTheorem);
            
            // Initial calculations
            calculateMomentum();
            calculateImpulse();
            calculateTheorem();
        });
    </script>
    
    <!-- Mobile Navigation Overlay -->
    <div class="nav-overlay" id="nav-overlay"></div>
    
    <script>
        // Mobile Navigation Toggle - Phase 1 Critical Fix
        document.addEventListener('DOMContentLoaded', function() {
            const navToggle = document.querySelector('.nav-toggle');
            const navSidebar = document.querySelector('.nav-sidebar');
            const navOverlay = document.getElementById('nav-overlay');
            
            if (!navToggle || !navSidebar || !navOverlay) return;
            
            function toggleNav() {
                const isOpen = navSidebar.classList.contains('open');
                
                if (isOpen) {
                    navSidebar.classList.remove('open');
                    navOverlay.classList.remove('active');
                    navToggle.setAttribute('aria-expanded', 'false');
                    document.body.style.overflow = '';
                } else {
                    navSidebar.classList.add('open');
                    navOverlay.classList.add('active');
                    navToggle.setAttribute('aria-expanded', 'true');
                    document.body.style.overflow = 'hidden';
                    
                    // Focus management
                    const firstFocusable = navSidebar.querySelector('a, button');
                    if (firstFocusable) firstFocusable.focus();
                }
            }
            
            // Toggle button click
            navToggle.addEventListener('click', toggleNav);
            
            // Overlay click to close
            navOverlay.addEventListener('click', toggleNav);
            
            // Escape key to close
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && navSidebar.classList.contains('open')) {
                    toggleNav();
                    navToggle.focus();
                }
            });
            
            // Close on navigation link click (mobile)
            navSidebar.addEventListener('click', function(e) {
                if (e.target.matches('a') && window.innerWidth <= 768) {
                    toggleNav();
                }
            });
        });
    </script>
</body>
</html>