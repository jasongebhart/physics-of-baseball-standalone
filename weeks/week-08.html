<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 8: The Physics of Spin</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'><text y='32' font-size='32'>⚾</text></svg>">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/calculators.css">
    <style>
        /* Week 8 Specific Styling - Teal/Turquoise Theme */
        :root {
            --week8-primary: #17a2b8;
            --week8-secondary: #138496;
            --week8-accent: #20c997;
            --week8-light: #b8daff;
            --week8-dark: #0c5460;
            --week8-gradient: linear-gradient(135deg, #17a2b8 0%, #20c997 100%);
            --week8-gradient-subtle: linear-gradient(135deg, rgba(23, 162, 184, 0.1) 0%, rgba(32, 201, 151, 0.1) 100%);
        }

        /* Week Header Styling */
        .week-header {
            background: var(--week8-gradient);
            background-size: 200% 200%;
            animation: gradientShift 8s ease-in-out infinite;
        }

        .week-title {
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .week-description {
            color: rgba(255,255,255,0.95);
        }

        /* Learning Objectives Styling */
        .learning-objectives {
            background: var(--week8-gradient-subtle);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
            border: 2px solid var(--week8-light);
        }

        .objectives-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .objective-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 8px 25px rgba(23, 162, 184, 0.1);
            border: 2px solid transparent;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .objective-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--week8-gradient);
        }

        .objective-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(23, 162, 184, 0.2);
            border-color: var(--week8-primary);
        }

        .objective-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            display: block;
        }

        .objective-content h3 {
            color: var(--week8-dark);
            margin-bottom: 0.5rem;
            font-size: 1.3rem;
        }

        .difficulty-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            text-transform: uppercase;
            z-index: 10;
        }

        .difficulty-badge.intermediate {
            background: var(--week8-primary);
            color: white;
        }

        .difficulty-badge.advanced {
            background: var(--week8-secondary);
            color: white;
        }

        .difficulty-badge.expert {
            background: var(--week8-accent);
            color: white;
        }

        .difficulty-badge.basic {
            background: var(--week8-light);
            color: var(--week8-dark);
        }

        /* Assessment Section Difficulty Badges Container */
        .difficulty-badges {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .difficulty-badges .difficulty-badge {
            position: static;
            margin: 0;
        }

        .skill-tag {
            display: inline-block;
            background: var(--week8-light);
            color: var(--week8-dark);
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.8rem;
            margin: 0.25rem 0.25rem 0 0;
        }

        /* Learning Roadmap Styling */
        .learning-roadmap {
            background: var(--week8-gradient-subtle);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
            border: 2px solid var(--week8-light);
        }

        .roadmap-steps {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin: 2rem 0;
        }

        .roadmap-step {
            display: flex;
            align-items: flex-start;
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(23, 162, 184, 0.1);
            border-left: 5px solid var(--week8-primary);
            transition: all 0.3s ease;
            position: relative;
        }

        .roadmap-step:hover {
            transform: translateX(10px);
            box-shadow: 0 8px 25px rgba(23, 162, 184, 0.15);
        }

        .step-number {
            background: var(--week8-gradient);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 1.5rem;
            flex-shrink: 0;
        }

        .step-content h3 {
            color: var(--week8-dark);
            margin-bottom: 0.5rem;
        }

        .skill {
            background: var(--week8-light);
            color: var(--week8-dark);
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.8rem;
            margin: 0.25rem 0.25rem 0 0;
            display: inline-block;
        }

        .step-connection {
            position: absolute;
            bottom: -15px;
            left: 35px;
            width: 2px;
            height: 30px;
            background: var(--week8-primary);
        }

        .roadmap-step:last-child .step-connection {
            display: none;
        }

        .roadmap-progress {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(23, 162, 184, 0.1);
        }

        .progress-stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 1rem;
        }

        .stat {
            text-align: center;
        }

        .stat-number {
            display: block;
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--week8-primary);
        }

        .stat-label {
            font-size: 0.9rem;
            color: #666;
        }

        .progress-bar {
            background: #e9ecef;
            border-radius: 10px;
            height: 10px;
            overflow: hidden;
        }

        .progress-fill {
            background: var(--week8-gradient);
            height: 100%;
            border-radius: 10px;
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Enhanced Calculator Styling */
        .enhanced-calculator {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(23, 162, 184, 0.1);
            border: 2px solid var(--week8-light);
        }

        .calculator-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
        }

        .control-group {
            margin-bottom: 1.5rem;
        }

        .control-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: var(--week8-dark);
        }

        .physics-slider {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }

        .physics-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--week8-primary);
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        .physics-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--week8-primary);
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        .slider-markers {
            display: flex;
            justify-content: space-between;
            margin-top: 0.5rem;
        }

        .marker {
            font-size: 0.8rem;
            color: #666;
        }

        .calculation-results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .result-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .result-card.primary {
            border-color: var(--week8-primary);
        }

        .result-card.secondary {
            border-color: var(--week8-secondary);
        }

        .result-card.tertiary {
            border-color: var(--week8-accent);
        }

        .result-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .result-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .result-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--week8-dark);
        }

        .result-sub {
            font-size: 0.9rem;
            color: #666;
            margin-top: 0.25rem;
        }

        .formula-display {
            background: var(--week8-gradient-subtle);
            border-radius: 15px;
            padding: 1.5rem;
            margin-top: 2rem;
            border: 2px solid var(--week8-light);
        }

        .formula-equation {
            font-size: 1.2rem;
            font-weight: bold;
            text-align: center;
            margin: 1rem 0;
            color: var(--week8-dark);
        }

        .formula-legend {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 0.5rem;
            font-size: 0.9rem;
            color: #666;
        }

        /* Pitch Type Cards */
        .pitch-type-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .pitch-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .pitch-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            border-color: var(--week8-primary);
        }

        .pitch-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .pitch-stats {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
            margin: 1rem 0;
            font-size: 0.9rem;
            color: #666;
        }

        .pitch-apply-btn {
            background: var(--week8-gradient);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .pitch-apply-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(23, 162, 184, 0.3);
        }

        /* Spin Visualization */
        .spin-visualization-container {
            background: var(--week8-gradient-subtle);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .spin-controls {
            margin-bottom: 2rem;
        }

        .pitch-selector {
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .pitch-btn {
            background: white;
            border: 2px solid var(--week8-primary);
            color: var(--week8-primary);
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .pitch-btn.active,
        .pitch-btn:hover {
            background: var(--week8-primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(23, 162, 184, 0.3);
        }

        .spin-display {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .baseball-diagram {
            text-align: center;
        }

        .spin-svg {
            max-width: 100%;
            height: auto;
        }

        .spin-info-panel {
            padding: 1rem;
        }

        .spin-stats {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin: 1rem 0;
        }

        .stat {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem;
            background: var(--week8-gradient-subtle);
            border-radius: 8px;
        }

        .stat-label {
            font-weight: bold;
            color: var(--week8-dark);
        }

        .stat-value {
            color: var(--week8-primary);
            font-weight: bold;
        }

        .physics-explanation {
            margin-top: 1.5rem;
            padding: 1rem;
            background: var(--week8-gradient-subtle);
            border-radius: 10px;
            border-left: 4px solid var(--week8-primary);
        }

        .physics-explanation h6 {
            color: var(--week8-dark);
            margin-bottom: 0.5rem;
        }

        /* Pressure Visualization */
        .pressure-diagram {
            margin-top: 2rem;
        }

        .pressure-container {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .pressure-svg {
            width: 100%;
            max-width: 600px;
            height: auto;
            margin-bottom: 2rem;
        }

        .pressure-explanation {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .pressure-point {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: var(--week8-gradient-subtle);
            border-radius: 10px;
        }

        .pressure-icon {
            font-size: 2rem;
            flex-shrink: 0;
        }

        .pressure-text {
            font-size: 0.9rem;
        }

        /* Concept Comparison */
        .concept-comparison {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .concept-item {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border: 2px solid var(--week8-light);
            transition: all 0.3s ease;
        }

        .concept-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            border-color: var(--week8-primary);
        }

        .movement-arrow {
            font-size: 3rem;
            margin: 0.5rem 0;
        }

        .concept-item h4 {
            color: var(--week8-dark);
            margin-bottom: 1rem;
        }

        .concept-item ul {
            list-style: none;
            padding: 0;
        }

        .concept-item li {
            margin: 0.5rem 0;
            padding: 0.5rem;
            background: var(--week8-gradient-subtle);
            border-radius: 8px;
        }

        /* Animation */
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .objectives-grid {
                grid-template-columns: 1fr;
            }

            .calculator-grid {
                grid-template-columns: 1fr;
            }

            .spin-display {
                grid-template-columns: 1fr;
            }

            .roadmap-step {
                flex-direction: column;
                text-align: center;
            }

            .step-number {
                margin: 0 0 1rem 0;
            }

            .step-connection {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <main class="main-content">
            <header class="week-header">
                <div class="header-top">
                    <button class="nav-toggle" aria-label="Toggle navigation menu" aria-expanded="false">
                        <span class="nav-toggle-line"></span>
                        <span class="nav-toggle-line"></span>
                        <span class="nav-toggle-line"></span>
                    </button>
                    <h1 class="week-title">Week 8: The Physics of Spin</h1>
                </div>
                <p class="week-description">
                    This week, we'll explore the Magnus effect and how different types of spin create the movement patterns that make pitched baseballs so effective.
                </p>
            </header>

            <!-- Learning Objectives Section -->
            <section class="learning-objectives">
                <h2>🎯 Week 8 Learning Objectives</h2>
                <p class="objectives-intro">Master the physics of spin and discover how rotating baseballs create the beautiful, complex movements that make the game so captivating.</p>

                <div class="objectives-grid">
                    <div class="objective-card" data-difficulty="intermediate">
                        <div class="objective-icon">🌪️</div>
                        <div class="objective-content">
                            <h3>Magnus Effect Mastery</h3>
                            <p>Understand the Magnus effect formula (F = S × ω × v) and how spinning objects in airflow experience sideways forces.</p>
                            <div class="objective-skills">
                                <span class="skill-tag">Magnus Force</span>
                                <span class="skill-tag">Spin Physics</span>
                                <span class="skill-tag">Airflow Dynamics</span>
                            </div>
                        </div>
                        <div class="difficulty-badge intermediate">Intermediate</div>
                    </div>

                    <div class="objective-card" data-difficulty="advanced">
                        <div class="objective-icon">⚾</div>
                        <div class="objective-content">
                            <h3>Pitch Type Analysis</h3>
                            <p>Analyze how different spin types (backspin, topspin, sidespin, gyrospin) create distinctive movement patterns in various pitches.</p>
                            <div class="objective-skills">
                                <span class="skill-tag">Pitch Types</span>
                                <span class="skill-tag">Spin Axis</span>
                                <span class="skill-tag">Movement Patterns</span>
                            </div>
                        </div>
                        <div class="difficulty-badge advanced">Advanced</div>
                    </div>

                    <div class="objective-card" data-difficulty="expert">
                        <div class="objective-icon">🧮</div>
                        <div class="objective-content">
                            <h3>Spin Rate Calculations</h3>
                            <p>Calculate Magnus forces, predict trajectory modifications, and optimize spin rates for maximum pitch effectiveness.</p>
                            <div class="objective-skills">
                                <span class="skill-tag">Force Calculations</span>
                                <span class="skill-tag">Trajectory Prediction</span>
                                <span class="skill-tag">Optimization</span>
                            </div>
                        </div>
                        <div class="difficulty-badge expert">Expert</div>
                    </div>

                    <div class="objective-card" data-difficulty="intermediate">
                        <div class="objective-icon">💨</div>
                        <div class="objective-content">
                            <h3>Airflow Visualization</h3>
                            <p>Visualize pressure differentials and airflow patterns around spinning baseballs to understand the physical mechanisms.</p>
                            <div class="objective-skills">
                                <span class="skill-tag">Pressure Systems</span>
                                <span class="skill-tag">Bernoulli's Principle</span>
                                <span class="skill-tag">Fluid Dynamics</span>
                            </div>
                        </div>
                        <div class="difficulty-badge intermediate">Intermediate</div>
                    </div>

                    <div class="objective-card" data-difficulty="advanced">
                        <div class="objective-icon">⚡</div>
                        <div class="objective-content">
                            <h3>Spin Efficiency</h3>
                            <p>Understand spin efficiency, seam effects, and how to optimize spin for maximum movement with minimal energy.</p>
                            <div class="objective-skills">
                                <span class="skill-tag">Efficiency Analysis</span>
                                <span class="skill-tag">Seam Effects</span>
                                <span class="skill-tag">Energy Optimization</span>
                            </div>
                        </div>
                        <div class="difficulty-badge advanced">Advanced</div>
                    </div>

                    <div class="objective-card" data-difficulty="expert">
                        <div class="objective-icon">📊</div>
                        <div class="objective-content">
                            <h3>Data Analysis & Strategy</h3>
                            <p>Apply spin physics knowledge to real-world pitching strategy, pitch design, and performance optimization.</p>
                            <div class="objective-skills">
                                <span class="skill-tag">Strategy Development</span>
                                <span class="skill-tag">Performance Analysis</span>
                                <span class="skill-tag">Data Integration</span>
                            </div>
                        </div>
                        <div class="difficulty-badge expert">Expert</div>
                    </div>
                </div>
            </section>

            <!-- Learning Roadmap Section -->
            <section class="learning-roadmap">
                <h2>🗺️ Week 8: Spin Physics Journey</h2>
                <p class="roadmap-intro">Navigate through the fascinating world of spinning baseballs and Magnus force effects - from basic principles to advanced applications.</p>

                <div class="roadmap-steps">
                    <div class="roadmap-step" data-step="1">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h3>🌪️ Magnus Effect Fundamentals</h3>
                            <p>Discover the basic physics behind the Magnus effect and how spinning objects create sideways forces in airflow.</p>
                            <div class="step-skills">
                                <span class="skill">Magnus Formula</span>
                                <span class="skill">Force Vectors</span>
                                <span class="skill">Spin Mechanics</span>
                            </div>
                        </div>
                        <div class="step-connection"></div>
                    </div>

                    <div class="roadmap-step" data-step="2">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h3>💨 Airflow & Pressure Systems</h3>
                            <p>Visualize how spinning balls create pressure differentials and airflow patterns that generate movement forces.</p>
                            <div class="step-skills">
                                <span class="skill">Bernoulli's Principle</span>
                                <span class="skill">Pressure Gradients</span>
                                <span class="skill">Flow Visualization</span>
                            </div>
                        </div>
                        <div class="step-connection"></div>
                    </div>

                    <div class="roadmap-step" data-step="3">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h3>⚾ Pitch Type Classifications</h3>
                            <p>Analyze different spin orientations (backspin, topspin, sidespin) and their characteristic movement patterns.</p>
                            <div class="step-skills">
                                <span class="skill">Spin Axis Analysis</span>
                                <span class="skill">Movement Patterns</span>
                                <span class="skill">Pitch Recognition</span>
                            </div>
                        </div>
                        <div class="step-connection"></div>
                    </div>

                    <div class="roadmap-step" data-step="4">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h3>🧮 Magnus Force Calculations</h3>
                            <p>Master the mathematical relationships between spin rate, velocity, and resulting Magnus forces.</p>
                            <div class="step-skills">
                                <span class="skill">Force Equations</span>
                                <span class="skill">Unit Conversions</span>
                                <span class="skill">Trajectory Modeling</span>
                            </div>
                        </div>
                        <div class="step-connection"></div>
                    </div>

                    <div class="roadmap-step" data-step="5">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <h3>⚡ Spin Efficiency & Optimization</h3>
                            <p>Understand how to maximize movement effectiveness through optimal spin rates and axis orientations.</p>
                            <div class="step-skills">
                                <span class="skill">Efficiency Metrics</span>
                                <span class="skill">Optimization Principles</span>
                                <span class="skill">Seam Effects</span>
                            </div>
                        </div>
                        <div class="step-connection"></div>
                    </div>

                    <div class="roadmap-step" data-step="6">
                        <div class="step-number">6</div>
                        <div class="step-content">
                            <h3>🔬 Experimental Measurement</h3>
                            <p>Apply laboratory techniques to measure spin rates, forces, and validate theoretical predictions.</p>
                            <div class="step-skills">
                                <span class="skill">Data Collection</span>
                                <span class="skill">Measurement Tools</span>
                                <span class="skill">Error Analysis</span>
                            </div>
                        </div>
                        <div class="step-connection"></div>
                    </div>

                    <div class="roadmap-step" data-step="7">
                        <div class="step-number">7</div>
                        <div class="step-content">
                            <h3>🎯 Strategic Applications</h3>
                            <p>Integrate spin physics knowledge into pitching strategy, pitch design, and performance analysis.</p>
                            <div class="step-skills">
                                <span class="skill">Strategy Development</span>
                                <span class="skill">Performance Metrics</span>
                                <span class="skill">Game Applications</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="roadmap-progress">
                    <div class="progress-header">
                        <h3>🏆 Your Progress</h3>
                        <div class="progress-stats">
                            <span class="stat">
                                <span class="stat-number" id="completed-steps">0</span>
                                <span class="stat-label">Steps Completed</span>
                            </span>
                            <span class="stat">
                                <span class="stat-number" id="total-steps">7</span>
                                <span class="stat-label">Total Steps</span>
                            </span>
                            <span class="stat">
                                <span class="stat-number" id="mastery-level">Beginner</span>
                                <span class="stat-label">Mastery Level</span>
                            </span>
                        </div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                </div>
            </section>

            <section class="day-section" id="day-1">
                <div class="day-header">
                    <h2 class="day-title">Day 1: Magnus Effect Fundamentals</h2>
                    <div class="day-meta">
                        <span class="duration">50 minutes</span>
                        <span class="complexity">Theoretical</span>
                    </div>
                </div>
                
                <div class="day-content">
                    <h3>🎯 Key Topics</h3>
                    <div class="topics-grid">
                        <div class="topic-card">
                            <span class="topic-icon">🌪️</span>
                            <div class="topic-info">
                                <h4>Magnus Effect Definition</h4>
                                <p>Force on spinning objects: F = S × ω × v.</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">💨</span>
                            <div class="topic-info">
                                <h4>Bernoulli's Principle</h4>
                                <p>Faster airflow creates lower pressure.</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">📚</span>
                            <div class="topic-info">
                                <h4>Historical Context</h4>
                                <p>Gustav Magnus and scientific discoveries.</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">⚾</span>
                            <div class="topic-info">
                                <h4>Baseball Applications</h4>
                                <p>How spinning baseballs create movement.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="concept-showcase">
                        <h3>🔑 The Magnus Effect Explained</h3>
                        <div class="magnus-visualization">
                            <div class="formula-showcase">
                                <h4>Magnus Force Formula</h4>
                                <p><strong>F = S × ω × v</strong></p>
                                <ul>
                                    <li><strong>F</strong> = Magnus force (Newtons)</li>
                                    <li><strong>S</strong> = Magnus coefficient (depends on ball surface)</li>
                                    <li><strong>ω</strong> = angular velocity (rad/s)</li>
                                    <li><strong>v</strong> = linear velocity (m/s)</li>
                                </ul>
                                <p><em>Key Principle: Spinning objects in airflow experience sideways force perpendicular to both spin axis and velocity</em></p>
                            </div>

                            <div class="pressure-diagram">
                                <h4>💨 Airflow & Pressure Visualization</h4>
                                <div class="pressure-container">
                                    <svg viewBox="0 0 500 300" class="pressure-svg">
                                        <defs>
                                            <linearGradient id="highPressure" x1="0%" y1="0%" x2="100%" y2="0%">
                                                <stop offset="0%" style="stop-color:#ff4444;stop-opacity:0.8"/>
                                                <stop offset="100%" style="stop-color:#ff8888;stop-opacity:0.4"/>
                                            </linearGradient>
                                            <linearGradient id="lowPressure" x1="0%" y1="0%" x2="100%" y2="0%">
                                                <stop offset="0%" style="stop-color:#4444ff;stop-opacity:0.8"/>
                                                <stop offset="100%" style="stop-color:#8888ff;stop-opacity:0.4"/>
                                            </linearGradient>
                                            <marker id="pressureArrow" markerWidth="8" markerHeight="6" refX="0" refY="3" orient="auto">
                                                <polygon points="0 0, 8 3, 0 6" fill="#333"/>
                                            </marker>
                                        </defs>

                                        <!-- Background pressure zones -->
                                        <rect x="0" y="50" width="500" height="100" fill="url(#lowPressure)" opacity="0.3"/>
                                        <rect x="0" y="150" width="500" height="100" fill="url(#highPressure)" opacity="0.3"/>

                                        <!-- Baseball with rotation -->
                                        <g transform="translate(250,150)">
                                            <circle r="40" fill="#ffffff" stroke="#333" stroke-width="2"/>
                                            <path d="M -25 -20 Q 0 -35 25 -20" stroke="#333" stroke-width="2" fill="none"/>
                                            <path d="M -25 20 Q 0 35 25 20" stroke="#333" stroke-width="2" fill="none"/>

                                            <!-- Rotation indicator -->
                                            <circle r="50" fill="none" stroke="#007bff" stroke-width="2" stroke-dasharray="5,5" opacity="0.6"/>
                                            <path d="M 45 -10 L 50 0 L 45 10" stroke="#007bff" stroke-width="2" fill="none"/>
                                            <text x="60" y="5" font-size="12" fill="#007bff">Backspin</text>
                                        </g>

                                        <!-- Airflow lines -->
                                        <g class="airflow-animation">
                                            <!-- Top airflow (faster, low pressure) -->
                                            <path d="M 50 100 L 450 100" stroke="#4444ff" stroke-width="3" marker-end="url(#pressureArrow)"/>
                                            <path d="M 50 80 L 450 80" stroke="#4444ff" stroke-width="2" marker-end="url(#pressureArrow)"/>
                                            <path d="M 50 120 L 450 120" stroke="#4444ff" stroke-width="2" marker-end="url(#pressureArrow)"/>

                                            <!-- Bottom airflow (slower, high pressure) -->
                                            <path d="M 50 200 L 400 200" stroke="#ff4444" stroke-width="2" marker-end="url(#pressureArrow)"/>
                                            <path d="M 50 220 L 380 220" stroke="#ff4444" stroke-width="2" marker-end="url(#pressureArrow)"/>
                                            <path d="M 50 180 L 420 180" stroke="#ff4444" stroke-width="2" marker-end="url(#pressureArrow)"/>
                                        </g>

                                        <!-- Magnus force arrow -->
                                        <line x1="250" y1="150" x2="250" y2="50" stroke="#28a745" stroke-width="4" marker-end="url(#pressureArrow)"/>
                                        <text x="260" y="100" font-size="14" font-weight="bold" fill="#28a745">Magnus Force</text>

                                        <!-- Pressure labels -->
                                        <text x="20" y="30" font-size="16" font-weight="bold" fill="#4444ff">LOW PRESSURE</text>
                                        <text x="20" y="40" font-size="12" fill="#4444ff">Faster airflow</text>

                                        <text x="20" y="280" font-size="16" font-weight="bold" fill="#ff4444">HIGH PRESSURE</text>
                                        <text x="20" y="290" font-size="12" fill="#ff4444">Slower airflow</text>

                                        <!-- Velocity labels -->
                                        <text x="460" y="85" font-size="10" fill="#4444ff">v + Δv</text>
                                        <text x="460" y="205" font-size="10" fill="#ff4444">v - Δv</text>
                                    </svg>

                                    <div class="pressure-explanation">
                                        <div class="pressure-point">
                                            <div class="pressure-icon high">🔴</div>
                                            <div class="pressure-text">
                                                <strong>High Pressure Zone:</strong> Slower airflow below the ball due to backspin dragging air backwards
                                            </div>
                                        </div>
                                        <div class="pressure-point">
                                            <div class="pressure-icon low">🔵</div>
                                            <div class="pressure-text">
                                                <strong>Low Pressure Zone:</strong> Faster airflow above the ball due to backspin accelerating air forward
                                            </div>
                                        </div>
                                        <div class="pressure-point">
                                            <div class="pressure-icon force">🟢</div>
                                            <div class="pressure-text">
                                                <strong>Resulting Force:</strong> Net upward Magnus force from high to low pressure creates "rising" effect
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <h3>🚀 Activities</h3>
                    <div class="activities-timeline">
                        <div class="activity-item">
                            <div class="activity-icon">🔬</div>
                            <div class="activity-content">
                                <h4>Magnus Effect Introduction (20 min)</h4>
                                <p>Mathematical relationship and connection to rotational motion.</p>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">🏓</div>
                            <div class="activity-content">
                                <h4>Ping Pong Ball Demo (20 min)</h4>
                                <p>Demonstrate Magnus effect with hair dryer and surface variations.</p>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">💨</div>
                            <div class="activity-content">
                                <h4>Pressure Visualization (10 min)</h4>
                                <p>Draw airflow patterns and identify high/low pressure regions.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="day-section" id="day-2">
                <div class="day-header">
                    <h2 class="day-title">Day 2: Spin Types & Movement Patterns</h2>
                    <div class="day-meta">
                        <span class="duration">50 minutes</span>
                        <span class="complexity">Conceptual</span>
                    </div>
                </div>
                
                <div class="day-content">
                    <h3>🎯 Key Topics</h3>
                    <div class="topics-grid">
                        <div class="topic-card">
                            <span class="topic-icon">⬆️</span>
                            <div class="topic-info">
                                <h4>Backspin (Fastball)</h4>
                                <p>Upward Magnus force opposes gravity (2000-2600 RPM), 'rising' effect.</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">⬇️</span>
                            <div class="topic-info">
                                <h4>Topspin (Curveball)</h4>
                                <p>Downward Magnus force adds to gravity (2200-3000+ RPM), sharp break.</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">↔️</span>
                            <div class="topic-info">
                                <h4>Sidespin (Slider/Cutter)</h4>
                                <p>Lateral movement perpendicular to spin axis, horizontal break.</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">🌀</span>
                            <div class="topic-info">
                                <h4>Gyrospin (Gyroball)</h4>
                                <p>Spin around motion axis - minimal Magnus force, tumbling effect.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="concept-showcase">
                        <h3>🔑 Spin Creates Movement</h3>
                        <div class="spin-visualization-container">
                            <div class="spin-diagram-section">
                                <h4>📊 Interactive Spin Visualization</h4>
                                <div class="spin-controls">
                                    <div class="pitch-selector">
                                        <button class="pitch-btn active" data-pitch="fastball">Fastball</button>
                                        <button class="pitch-btn" data-pitch="curveball">Curveball</button>
                                        <button class="pitch-btn" data-pitch="slider">Slider</button>
                                        <button class="pitch-btn" data-pitch="changeup">Changeup</button>
                                    </div>
                                </div>

                                <div class="spin-display">
                                    <div class="baseball-diagram">
                                        <svg viewBox="0 0 400 400" class="spin-svg">
                                            <defs>
                                                <pattern id="baseball-seams" patternUnits="userSpaceOnUse" width="10" height="10">
                                                    <path d="M 5,0 L 5,10" stroke="#666" stroke-width="0.5"/>
                                                </pattern>
                                                <filter id="glow">
                                                    <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                                                    <feMerge>
                                                        <feMergeNode in="coloredBlur"/>
                                                        <feMergeNode in="SourceGraphic"/>
                                                    </feMerge>
                                                </filter>
                                            </defs>

                                            <!-- Baseball -->
                                            <circle cx="200" cy="200" r="80" fill="#ffffff" stroke="#333" stroke-width="2"/>
                                            <path d="M 140 160 Q 200 120 260 160" stroke="#333" stroke-width="3" fill="none"/>
                                            <path d="M 140 240 Q 200 280 260 240" stroke="#333" stroke-width="3" fill="none"/>

                                            <!-- Spin Arrow -->
                                            <g id="spin-arrow" transform="translate(200,200)">
                                                <circle r="90" fill="none" stroke="#007bff" stroke-width="3" stroke-dasharray="10,5" opacity="0.7" class="spin-circle"/>
                                                <path d="M 85 -15 L 90 0 L 85 15" stroke="#007bff" stroke-width="3" fill="none" class="arrow-head"/>
                                                <text x="110" y="5" class="spin-label" fill="#007bff" font-weight="bold">Spin</text>
                                            </g>

                                            <!-- Magnus Force Arrow -->
                                            <g id="magnus-force">
                                                <line x1="200" y1="200" x2="200" y2="100" stroke="#dc3545" stroke-width="4" marker-end="url(#arrowhead)" class="force-vector"/>
                                                <text x="210" y="150" class="force-label" fill="#dc3545" font-weight="bold">Magnus Force</text>
                                            </g>

                                            <!-- Arrow marker definition -->
                                            <defs>
                                                <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
                                                    <polygon points="0 0, 10 3.5, 0 7" fill="#dc3545"/>
                                                </marker>
                                            </defs>

                                            <!-- Airflow lines -->
                                            <g class="airflow-lines">
                                                <path d="M 50 180 Q 150 160 300 180" stroke="#28a745" stroke-width="2" fill="none" opacity="0.6" class="flow-line top"/>
                                                <path d="M 50 220 Q 150 240 300 220" stroke="#28a745" stroke-width="2" fill="none" opacity="0.6" class="flow-line bottom"/>
                                                <text x="320" y="185" class="flow-label" fill="#28a745" font-size="12">Faster airflow</text>
                                                <text x="320" y="225" class="flow-label" fill="#28a745" font-size="12">Slower airflow</text>
                                            </g>
                                        </svg>
                                    </div>

                                    <div class="spin-info-panel">
                                        <div class="info-section">
                                            <h5 id="pitch-name">Fastball (Backspin)</h5>
                                            <div class="spin-stats">
                                                <div class="stat">
                                                    <span class="stat-label">Spin Rate:</span>
                                                    <span class="stat-value" id="display-spin-rate">2300 RPM</span>
                                                </div>
                                                <div class="stat">
                                                    <span class="stat-label">Spin Axis:</span>
                                                    <span class="stat-value" id="display-spin-axis">Vertical</span>
                                                </div>
                                                <div class="stat">
                                                    <span class="stat-label">Movement:</span>
                                                    <span class="stat-value" id="display-movement">Upward "hop"</span>
                                                </div>
                                                <div class="stat">
                                                    <span class="stat-label">Magnus Direction:</span>
                                                    <span class="stat-value" id="display-magnus-dir">Against gravity</span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="physics-explanation">
                                            <h6>Physics Explanation:</h6>
                                            <p id="physics-text">
                                                Backspin creates higher pressure below the ball and lower pressure above,
                                                generating upward Magnus force that opposes gravity and creates the "rising" effect.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="concept-comparison">
                                <div class="concept-item">
                                    <h4>Backspin (Fastball)</h4>
                                    <div class="movement-arrow">⬆️</div>
                                    <ul>
                                        <li>2000-2600 RPM</li>
                                        <li>Upward Magnus force</li>
                                        <li>"Hop" or "rise" effect</li>
                                    </ul>
                                </div>
                                <div class="concept-item">
                                    <h4>Topspin (Curveball)</h4>
                                    <div class="movement-arrow">⬇️</div>
                                    <ul>
                                        <li>2200-3000+ RPM</li>
                                        <li>Downward Magnus force</li>
                                        <li>Sharp downward break</li>
                                    </ul>
                                </div>
                                <div class="concept-item">
                                    <h4>Sidespin (Slider)</h4>
                                    <div class="movement-arrow">↔️</div>
                                    <ul>
                                        <li>Variable RPM</li>
                                        <li>Lateral Magnus force</li>
                                        <li>Horizontal sweeping motion</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <h3>🚀 Activities</h3>
                    <div class="activities-timeline">
                        <div class="activity-item">
                            <div class="activity-icon">📹</div>
                            <div class="activity-content">
                                <h4>Professional Pitch Analysis (20 min)</h4>
                                <p>Analyze high-speed footage of different pitch types and their spin characteristics.</p>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">📊</div>
                            <div class="activity-content">
                                <h4>Spin Rate Measurement (20 min)</h4>
                                <p>Use slow-motion video to measure and compare spin rates across pitch types.</p>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">📏</div>
                            <div class="activity-content">
                                <h4>Movement Tracking (10 min)</h4>
                                <p>Track and measure trajectory differences created by different spin types.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="day-section" id="day-3">
                <div class="day-header">
                    <h2 class="day-title">Day 3: Advanced Spin Concepts</h2>
                    <div class="day-meta">
                        <span class="duration">50 minutes</span>
                        <span class="complexity">Advanced</span>
                    </div>
                </div>
                
                <div class="day-content">
                    <h3>🎯 Key Topics</h3>
                    <div class="topics-grid">
                        <div class="topic-card">
                            <span class="topic-icon">⚡</span>
                            <div class="topic-info">
                                <h4>Spin Efficiency</h4>
                                <p>Percentage of spin contributing to desired movement - quality over quantity.</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">🧵</span>
                            <div class="topic-info">
                                <h4>Seam Effects</h4>
                                <p>How seam orientation affects airflow patterns and enhances Magnus force.</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">🌤️</span>
                            <div class="topic-info">
                                <h4>Environmental Factors</h4>
                                <p>Air density, humidity, and altitude effects on pitch movement.</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">🎯</span>
                            <div class="topic-info">
                                <h4>Pitch Tunneling</h4>
                                <p>Similar release points with different spins for deception.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="concept-showcase">
                        <h3>🔑 Optimizing Spin Efficiency</h3>
                        <div class="formula-showcase">
                            <h4>Spin Efficiency = (Useful Spin / Total Spin) × 100%</h4>
                            <p><strong>Factors Affecting Efficiency:</strong></p>
                            <ul>
                                <li>Seam orientation and grip pressure</li>
                                <li>Release point consistency</li>
                                <li>Finger positioning and action</li>
                                <li>Environmental conditions</li>
                            </ul>
                            <p><em>Goal: Maximize movement with optimal spin rate, not maximum spin rate</em></p>
                        </div>
                    </div>
                    
                    <h3>🧮 Interactive Magnus Force Calculator</h3>
                    <div class="physics-calculators">
                        <div class="calculator-grid">
                            <div class="calculator-section enhanced-calculator">
                                <h4>🌪️ Magnus Force Calculator</h4>
                                <p class="calculator-description">Calculate the Magnus force and resulting ball movement for different spin scenarios.</p>

                                <div class="calculator-controls">
                                    <div class="control-group">
                                        <label for="ball-velocity-slider">Ball Velocity: <span id="velocity-value">40.0</span> m/s (<span id="velocity-mph">89.5</span> mph)</label>
                                        <div class="slider-container">
                                            <input type="range" id="ball-velocity-slider" min="20" max="50" step="0.5" value="40" class="physics-slider">
                                            <div class="slider-markers">
                                                <span class="marker" data-value="20">Slow</span>
                                                <span class="marker" data-value="35">Average</span>
                                                <span class="marker" data-value="50">Fast</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="control-group">
                                        <label for="spin-rate-slider">Spin Rate: <span id="spin-rate-value">2400</span> RPM</label>
                                        <div class="slider-container">
                                            <input type="range" id="spin-rate-slider" min="1000" max="4000" step="50" value="2400" class="physics-slider">
                                            <div class="slider-markers">
                                                <span class="marker" data-value="1000">Low</span>
                                                <span class="marker" data-value="2500">Average</span>
                                                <span class="marker" data-value="4000">High</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="control-group">
                                        <label for="magnus-coeff-slider">Magnus Coefficient: <span id="magnus-coeff-value">0.0001</span></label>
                                        <div class="slider-container">
                                            <input type="range" id="magnus-coeff-slider" min="0.00005" max="0.00015" step="0.00001" value="0.0001" class="physics-slider">
                                            <div class="slider-markers">
                                                <span class="marker" data-value="0.00005">Smooth</span>
                                                <span class="marker" data-value="0.0001">Normal</span>
                                                <span class="marker" data-value="0.00015">Rough</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="calculation-results">
                                    <div class="result-card primary">
                                        <div class="result-icon">⚡</div>
                                        <div class="result-content">
                                            <h5>Magnus Force</h5>
                                            <div class="result-value">
                                                <span id="magnus-force-display">9.6</span> N
                                            </div>
                                        </div>
                                    </div>

                                    <div class="result-card secondary">
                                        <div class="result-icon">📏</div>
                                        <div class="result-content">
                                            <h5>Ball Movement</h5>
                                            <div class="result-value">
                                                <span id="movement-distance-display">0.43</span> m
                                            </div>
                                            <div class="result-sub">(<span id="movement-inches">17.0</span> inches)</div>
                                        </div>
                                    </div>

                                    <div class="result-card tertiary">
                                        <div class="result-icon">🎯</div>
                                        <div class="result-content">
                                            <h5>Pitch Classification</h5>
                                            <div class="result-value" id="pitch-type">Fastball</div>
                                            <div class="result-sub" id="movement-direction">Rising Effect</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="formula-display">
                                    <h5>Magnus Force Formula</h5>
                                    <div class="formula-equation">
                                        F = S × ω × v = <span id="formula-values">0.0001 × 251.3 × 40.0</span> = <span id="formula-result">1.01</span> N
                                    </div>
                                    <div class="formula-legend">
                                        <span>F = Magnus Force (N)</span>
                                        <span>S = Magnus Coefficient</span>
                                        <span>ω = Angular Velocity (rad/s)</span>
                                        <span>v = Linear Velocity (m/s)</span>
                                    </div>
                                </div>
                            </div>

                            <div class="calculator-section">
                                <h4>🎯 Pitch Type Comparison</h4>
                                <div class="pitch-type-grid">
                                    <div class="pitch-card" data-pitch="fastball">
                                        <div class="pitch-icon">⬆️</div>
                                        <h5>Fastball (Backspin)</h5>
                                        <div class="pitch-stats">
                                            <span>2000-2600 RPM</span>
                                            <span>Upward Magnus Force</span>
                                            <span>Rising Effect</span>
                                        </div>
                                        <button class="pitch-apply-btn" data-spin="2300" data-coeff="0.0001">Apply</button>
                                    </div>

                                    <div class="pitch-card" data-pitch="curveball">
                                        <div class="pitch-icon">⬇️</div>
                                        <h5>Curveball (Topspin)</h5>
                                        <div class="pitch-stats">
                                            <span>2200-3000 RPM</span>
                                            <span>Downward Magnus Force</span>
                                            <span>Sharp Break</span>
                                        </div>
                                        <button class="pitch-apply-btn" data-spin="2700" data-coeff="0.00012">Apply</button>
                                    </div>

                                    <div class="pitch-card" data-pitch="slider">
                                        <div class="pitch-icon">↔️</div>
                                        <h5>Slider (Sidespin)</h5>
                                        <div class="pitch-stats">
                                            <span>2000-2800 RPM</span>
                                            <span>Lateral Magnus Force</span>
                                            <span>Horizontal Break</span>
                                        </div>
                                        <button class="pitch-apply-btn" data-spin="2400" data-coeff="0.00009">Apply</button>
                                    </div>

                                    <div class="pitch-card" data-pitch="changeup">
                                        <div class="pitch-icon">🌀</div>
                                        <h5>Changeup (Low Spin)</h5>
                                        <div class="pitch-stats">
                                            <span>1200-1800 RPM</span>
                                            <span>Minimal Magnus Force</span>
                                            <span>Deceptive Movement</span>
                                        </div>
                                        <button class="pitch-apply-btn" data-spin="1500" data-coeff="0.00008">Apply</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <h3>🚀 Activities</h3>
                    <div class="activities-timeline">
                        <div class="activity-item">
                            <div class="activity-icon">🧮</div>
                            <div class="activity-content">
                                <h4>Magnus Force Calculations (20 min)</h4>
                                <p>Calculate Magnus forces for various pitch types and conditions.</p>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">📊</div>
                            <div class="activity-content">
                                <h4>Spin Efficiency Analysis (20 min)</h4>
                                <p>Determine optimal RPM for different pitch types and velocities.</p>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">🌡️</div>
                            <div class="activity-content">
                                <h4>Environmental Corrections (10 min)</h4>
                                <p>Adjust calculations for altitude, humidity, and air density variations.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="day-section" id="day-4">
                <div class="day-header">
                    <h2 class="day-title">Day 4: Laboratory Investigation</h2>
                    <div class="day-meta">
                        <span class="duration">50 minutes</span>
                        <span class="complexity">Experimental</span>
                    </div>
                </div>
                
                <div class="day-content">
                    <div class="procedure-timeline">
                        <h3>📝 Week 8 Lab: Magnus Effect Measurement</h3>
                        <div class="procedure-steps">
                            <div class="procedure-step">
                                <div class="step-number">1</div>
                                <div class="step-content">
                                    <h4>Setup Equipment (15 min)</h4>
                                    <p>Position iPhone for slow-motion capture (240 fps). Set up radar gun and distance markers.</p>
                                </div>
                            </div>
                            <div class="procedure-step">
                                <div class="step-number">2</div>
                                <div class="step-content">
                                    <h4>Data Collection (20 min)</h4>
                                    <p>Record multiple pitches with different spin types, capturing both radar speed and video trajectory data.</p>
                                </div>
                            </div>
                            <div class="procedure-step">
                                <div class="step-number">3</div>
                                <div class="step-content">
                                    <h4>Analysis (15 min)</h4>
                                    <p>Extract spin data from video and compare movement with theoretical Magnus force calculations.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <h3>🚀 Activities</h3>
                    <div class="activities-timeline">
                        <div class="activity-item">
                            <div class="activity-icon">📊</div>
                            <div class="activity-content">
                                <h4>Baseline Measurements (15 min)</h4>
                                <p>Record pitch velocity and setup video capture for spin analysis.</p>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">🎬</div>
                            <div class="activity-content">
                                <h4>Spin Analysis (20 min)</h4>
                                <p>Track ball rotation and measure spin rates using slow-motion video.</p>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">⚖️</div>
                            <div class="activity-content">
                                <h4>Theory vs Reality (15 min)</h4>
                                <p>Compare experimental results with Magnus force calculations.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="day-section" id="day-5">
                <div class="day-header">
                    <h2 class="day-title">Day 5: Data Analysis & Applications</h2>
                    <div class="day-meta">
                        <span class="duration">50 minutes</span>
                        <span class="complexity">Synthesis</span>
                    </div>
                </div>
                
                <div class="day-content">
                    <h3>🎯 Key Topics</h3>
                    <div class="topics-grid">
                        <div class="topic-card">
                            <span class="topic-icon">🧮</span>
                            <div class="topic-info">
                                <h4>Data Interpretation</h4>
                                <p>Analyze experimental spin data and compare with theoretical predictions.</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">🎯</span>
                            <div class="topic-info">
                                <h4>Strategy Applications</h4>
                                <p>Apply Magnus effect knowledge to pitching strategy and game situations.</p>
                            </div>
                        </div>
                        <div class="topic-card">
                            <span class="topic-icon">📊</span>
                            <div class="topic-info">
                                <h4>Performance Optimization</h4>
                                <p>Use spin data to optimize pitch design and effectiveness.</p>
                            </div>
                        </div>
                    </div>
                    
                    <h3>🚀 Activities</h3>
                    <div class="activities-timeline">
                        <div class="activity-item">
                            <div class="activity-icon">📊</div>
                            <div class="activity-content">
                                <h4>Spin Data Analysis (25 min)</h4>
                                <p>Interpret experimental data and identify patterns in spin effectiveness.</p>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">🧠</div>
                            <div class="activity-content">
                                <h4>Strategy Development (20 min)</h4>
                                <p>Develop pitching strategies based on Magnus effect principles.</p>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">🎯</div>
                            <div class="activity-content">
                                <h4>Week Summary (5 min)</h4>
                                <p>Summarize key Magnus effect concepts and applications.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Assessment Section -->
            <section class="assessment-section">
                <h2>📝 Week 8 Assessment</h2>
                
                <div class="assessment-tabs">
                    <button class="tab-button active" data-tab="quiz">Quiz</button>
                    <button class="tab-button" data-tab="practice">Practice Problems</button>
                    <button class="tab-button" data-tab="lab">Lab Report</button>
                </div>
                
                <div class="tab-content active" id="quiz-tab">
                    <div class="assessment-preview">
                        <div class="preview-header">
                            <h3>📝 Quiz Topics</h3>
                            <div class="difficulty-badges">
                                <span class="difficulty-badge basic">Basic</span>
                                <span class="difficulty-badge intermediate">Intermediate</span>
                                <span class="difficulty-badge advanced">Advanced</span>
                            </div>
                        </div>
                        
                        <div class="topic-previews">
                            <div class="topic-preview">
                                <div class="preview-icon">🌪️</div>
                                <div class="preview-content">
                                    <h4>Magnus Effect Fundamentals</h4>
                                    <p>Test understanding of the Magnus force, spin effects on ball trajectory, and the relationship between spin rate and ball movement.</p>
                                    <div class="preview-tags">
                                        <span class="tag">Magnus Force</span>
                                        <span class="tag">Spin Rate</span>
                                        <span class="tag">Ball Movement</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="topic-preview">
                                <div class="preview-icon">⚾</div>
                                <div class="preview-content">
                                    <h4>Pitch Types and Spin</h4>
                                    <p>Analyze different pitch types (fastball, curveball, slider) and how spin axis orientation creates distinctive movement patterns.</p>
                                    <div class="preview-tags">
                                        <span class="tag">Spin Axis</span>
                                        <span class="tag">Pitch Types</span>
                                        <span class="tag">Movement Patterns</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="topic-preview">
                                <div class="preview-icon">🧮</div>
                                <div class="preview-content">
                                    <h4>Spin Rate Calculations</h4>
                                    <p>Calculate spin rates, determine Magnus force magnitude, and predict ball trajectory modifications due to spin.</p>
                                    <div class="preview-tags">
                                        <span class="tag">Calculations</span>
                                        <span class="tag">Force Analysis</span>
                                        <span class="tag">Trajectory Prediction</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="assessment-actions">
                            <div class="assessment-cta">
                                <p class="cta-text">Ready to test your knowledge?</p>
                                <button class="btn btn-primary assessment-start-btn" id="start-quiz" aria-label="Start Week 8 Physics of Spin Quiz">
                                    <span class="loading-spinner" style="display: none;" aria-hidden="true"></span>
                                    <span class="btn-icon">🚀</span>
                                    <span class="btn-text">Start Interactive Quiz</span>
                                </button>
                                <p class="assessment-info">18-22 questions • ~13 minutes</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="practice-tab">
                    <div class="assessment-preview">
                        <div class="preview-header">
                            <h3>🎯 Practice Problems</h3>
                            <div class="difficulty-badges">
                                <span class="difficulty-badge basic">Guided</span>
                                <span class="difficulty-badge intermediate">Independent</span>
                                <span class="difficulty-badge advanced">Challenge</span>
                            </div>
                        </div>
                        
                        <div class="problem-categories">
                            <div class="category-card">
                                <div class="category-header">
                                    <span class="category-icon">🌪️</span>
                                    <h4>Magnus Force Calculations</h4>
                                </div>
                                <div class="category-content">
                                    <p><strong>Problem Set A:</strong> Calculate Magnus forces and their effects on baseball trajectory for various spin scenarios.</p>
                                    <ul class="problem-list">
                                        <li>🔄 Computing Magnus force from spin rate and velocity</li>
                                        <li>📐 Determining deflection angles due to spin</li>
                                        <li>⚾ Comparing Magnus effects across different pitch types</li>
                                        <li>📊 Analyzing spin efficiency and its impact on movement</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="category-card">
                                <div class="category-header">
                                    <span class="category-icon">⚾</span>
                                    <h4>Pitch Movement Analysis</h4>
                                </div>
                                <div class="category-content">
                                    <p><strong>Problem Set B:</strong> Analyze real pitch data to understand how spin creates different types of movement.</p>
                                    <ul class="problem-list">
                                        <li>🎯 Fastball hop and carry calculations</li>
                                        <li>🌀 Curveball break and drop analysis</li>
                                        <li>↗️ Slider lateral movement and spin axis effects</li>
                                        <li>🔄 Changeup deception through spin reduction</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="category-card">
                                <div class="category-header">
                                    <span class="category-icon">🧮</span>
                                    <h4>Advanced Spin Physics</h4>
                                </div>
                                <div class="category-content">
                                    <p><strong>Problem Set C:</strong> Complex spin scenarios involving multiple variables and optimization problems.</p>
                                    <ul class="problem-list">
                                        <li>🎛️ Optimizing spin rate for maximum movement</li>
                                        <li>🔄 Gyroscopic effects and spin axis stability</li>
                                        <li>💨 Interaction between spin and air resistance</li>
                                        <li>🏆 Multi-variable spin optimization challenges</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="assessment-actions">
                            <div class="assessment-cta">
                                <p class="cta-text">Practice makes perfect!</p>
                                <button class="btn btn-secondary assessment-start-btn" id="start-practice" aria-label="Start Week 8 Practice Problems">
                                    <span class="loading-spinner" style="display: none;" aria-hidden="true"></span>
                                    <span class="btn-icon">🎯</span>
                                    <span class="btn-text">Start Practice Problems</span>
                                </button>
                                <p class="assessment-info">5 spin physics problems • Magnus effect calculations</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="lab-tab">
                    <div class="assessment-preview">
                        <div class="preview-header">
                            <h3>🔬 Laboratory Experiment</h3>
                            <div class="lab-badges">
                                <span class="lab-badge data">Data Collection</span>
                                <span class="lab-badge analysis">Analysis</span>
                                <span class="lab-badge report">Report Writing</span>
                            </div>
                        </div>
                        
                        <div class="lab-overview">
                            <div class="lab-card">
                                <div class="lab-header">
                                    <span class="lab-icon">🌪️</span>
                                    <h4>The Magnus Effect in Baseball</h4>
                                </div>
                                <div class="lab-content">
                                    <p><strong>Objective:</strong> Investigate how spin rate and spin axis orientation affect baseball trajectory through Magnus force measurements and trajectory analysis.</p>
                                    
                                    <div class="lab-sections">
                                        <div class="lab-section">
                                            <h5>📋 Pre-Lab Preparation</h5>
                                            <ul>
                                                <li>Review Magnus effect theory and spin-induced forces</li>
                                                <li>Set up high-speed cameras for spin visualization</li>
                                                <li>Calibrate spin rate measurement equipment (Rapsodo/TrackMan)</li>
                                                <li>Prepare data collection sheets for spin axis measurements</li>
                                            </ul>
                                        </div>
                                        
                                        <div class="lab-section">
                                            <h5>🔬 Experimental Procedure</h5>
                                            <ul>
                                                <li>Measure spin rates for different pitch types using radar technology</li>
                                                <li>Record spin axis orientation for fastballs, curveballs, and sliders</li>
                                                <li>Document trajectory deviations from spin-free baseline</li>
                                                <li>Analyze high-speed video to visualize spin effects</li>
                                                <li>Measure Magnus force components using force sensors</li>
                                            </ul>
                                        </div>
                                        
                                        <div class="lab-section">
                                            <h5>📊 Data Analysis</h5>
                                            <ul>
                                                <li>Calculate Magnus force from measured spin rates and velocities</li>
                                                <li>Plot spin rate vs. trajectory deviation relationships</li>
                                                <li>Compare theoretical Magnus force predictions with measurements</li>
                                                <li>Analyze spin efficiency across different pitch types</li>
                                            </ul>
                                        </div>
                                        
                                        <div class="lab-section">
                                            <h5>📝 Lab Report Components</h5>
                                            <ul>
                                                <li>Introduction: Magnus effect theory and baseball applications</li>
                                                <li>Methods: Spin measurement techniques and equipment setup</li>
                                                <li>Results: Spin rate data, force measurements, and trajectory analysis</li>
                                                <li>Discussion: Magnus force calculations and pitch effectiveness</li>
                                                <li>Conclusion: Optimal spin parameters for different pitch types</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="assessment-actions">
                            <div class="assessment-cta">
                                <p class="cta-text">Ready for hands-on investigation?</p>
                                <button class="btn btn-accent assessment-start-btn" id="start-lab" aria-label="Start Week 8 Laboratory Investigation">
                                    <span class="loading-spinner" style="display: none;" aria-hidden="true"></span>
                                    <span class="btn-icon">🔬</span>
                                    <span class="btn-text">Start Lab Investigation</span>
                                </button>
                                <p class="assessment-info">Spin rate measurement • Magnus force analysis • Report writing</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <nav class="nav-sidebar">
            <div class="nav-header">
                <div class="nav-title">Physics of Baseball</div>
                <div class="nav-subtitle">Week 8: The Physics of Spin</div>
            </div>

            <div class="home-nav">
                <a href="../index.html" class="home-link"><span>🏠</span><span>Course Home</span></a>
            </div>

            <div class="week-nav">
                <div class="nav-section-title">Weeks</div>
                <div class="week-links">
                    <a href="week-01.html" class="week-link"><span>1</span><span>Introduction to Motion</span></a>
                    <a href="week-02.html" class="week-link"><span>2</span><span>Projectile Motion</span></a>
                    <a href="week-03.html" class="week-link"><span>3</span><span>Forces and Newton's Laws</span></a>
                    <a href="week-04.html" class="week-link"><span>4</span><span>Momentum and Impulse</span></a>
                    <a href="week-05.html" class="week-link"><span>5</span><span>Work and Energy</span></a>
                    <a href="week-06.html" class="week-link"><span>6</span><span>Circular Motion</span></a>
                    <a href="week-07.html" class="week-link"><span>7</span><span>Torque and Angular Momentum</span></a>
                    <a href="week-08.html" class="week-link active"><span>8</span><span>Physics of Spin</span></a>
                    <a href="week-09.html" class="week-link"><span>9</span><span>Aerodynamics</span></a>
                    <a href="week-10.html" class="week-link"><span>10</span><span>Pitching Mechanics</span></a>
                    <a href="week-11.html" class="week-link"><span>11</span><span>Measurement and Data</span></a>
                    <a href="week-12.html" class="week-link"><span>12</span><span>Equipment Physics</span></a>
                    <a href="week-13.html" class="week-link"><span>13</span><span>Review and Application</span></a>
                </div>
            </div>

            <div class="daily-nav">
                <div class="nav-section-title">This Week</div>
                <div class="daily-links">
                    <a href="#day-1" class="daily-link"><span>🌪️</span><span>Magnus Effect Fundamentals</span></a>
                    <a href="#day-2" class="daily-link"><span>🌀</span><span>Spin Types & Movement Patterns</span></a>
                    <a href="#day-3" class="daily-link"><span>⚡</span><span>Advanced Spin Concepts</span></a>
                    <a href="#day-4" class="daily-link"><span>🔬</span><span>Laboratory Investigation</span></a>
                    <a href="#day-5" class="daily-link"><span>🎯</span><span>Data Analysis & Applications</span></a>
                </div>
            </div>
        </nav>
    </div>

    <script type="module" src="../js/main.js"></script>
    <script src="../js/week-template.js"></script>
    <script type="module" src="../js/interactive-learning.js"></script>
    <script type="module">
        import { QuizSystem } from '../js/assessment.js';

        // Assessment button handlers
        document.addEventListener('DOMContentLoaded', function() {
            // Quiz functionality
            const startQuizBtn = document.getElementById('start-quiz');
            if (startQuizBtn) {
                startQuizBtn.addEventListener('click', async function() {
                    const spinner = this.querySelector('.loading-spinner');
                    if (spinner) spinner.style.display = 'inline-block';
                    this.disabled = true;
                    
                    try {
                        const quizTab = document.getElementById('quiz-content');
                        quizTab.innerHTML = '<div id="week8-quiz-container"></div>';
                        
                        // Import and use Enhanced Quiz System
                        const { EnhancedQuizSystem } = await import('../js/enhanced-assessment.js');
                        const enhancedQuizSystem = new EnhancedQuizSystem('week8-quiz-container');
                        await enhancedQuizSystem.createQuiz('week8');
                        document.querySelector('[data-tab="quiz"]').click();
                    } catch (error) {
                        console.error('Failed to load quiz:', error);
                        alert('Failed to load quiz. Please try again.');
                    } finally {
                        if (spinner) spinner.style.display = 'none';
                        this.disabled = false;
                    }
                });
            }
            
            // Practice problems functionality
            const startPracticeBtn = document.getElementById('start-practice');
            if (startPracticeBtn) {
                startPracticeBtn.addEventListener('click', function() {
                    const practiceTab = document.getElementById('practice-content');
                    const existingProblems = practiceTab.querySelector('.problem-set');
                    if (existingProblems) {
                        practiceTab.innerHTML = `
                            <div class="practice-problems">
                                <h3>🎯 Week 8 Practice Problems: Physics of Spin</h3>
                                <div class="problem-set">
                                    ${existingProblems.innerHTML}
                                </div>
                            </div>
                        `;
                        
                    }
                    document.querySelector('[data-tab="practice"]').click();
                });
            }
            
            // Lab functionality
            const startLabBtn = document.getElementById('start-lab');
            if (startLabBtn) {
                startLabBtn.addEventListener('click', function() {
                    const labTab = document.getElementById('lab-content');
                    labTab.innerHTML = `
                        <div class="lab-investigation">
                            <h3>🔬 Week 8 Lab: Spin Physics Analysis</h3>
                            <div class="lab-content">
                                <div class="lab-intro">
                                    <p>This laboratory investigation examines the physics of spin in baseball through measurement of spin rates, magnus effect, and ball trajectory analysis.</p>
                                </div>
                                
                                <div class="lab-objectives">
                                    <h4>🎯 Learning Objectives</h4>
                                    <ul>
                                        <li>Measure spin rates of different pitch types</li>
                                        <li>Analyze the Magnus effect on ball trajectory</li>
                                        <li>Calculate lift forces generated by spinning balls</li>
                                        <li>Compare spin axis orientations and their effects</li>
                                        <li>Investigate optimal spin rates for different pitches</li>
                                    </ul>
                                </div>
                                
                                <div class="lab-procedure">
                                    <h4>📋 Experimental Procedure</h4>
                                    <div class="procedure-steps">
                                        <div class="step-card">
                                            <h5>Step 1: Equipment Setup</h5>
                                            <p>Gather materials: high-speed cameras, baseballs, spin rate sensors, pitching machine, measuring devices.</p>
                                        </div>
                                        <div class="step-card">
                                            <h5>Step 2: Spin Rate Measurements</h5>
                                            <p>Record various pitch types using high-speed video and spin rate sensors to measure rotational velocity.</p>
                                        </div>
                                        <div class="step-card">
                                            <h5>Step 3: Trajectory Analysis</h5>
                                            <p>Track ball paths using video analysis to measure deflection caused by Magnus effect.</p>
                                        </div>
                                        <div class="step-card">
                                            <h5>Step 4: Force Calculations</h5>
                                            <p>Calculate Magnus force from trajectory data and compare to theoretical predictions.</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="lab-analysis">
                                    <h4>📊 Data Analysis</h4>
                                    <p>Calculate and analyze:</p>
                                    <ul>
                                        <li>Spin rates for different pitch types (rpm)</li>
                                        <li>Magnus force coefficients and lift forces</li>
                                        <li>Trajectory deflections and break measurements</li>
                                        <li>Optimal spin axis orientations for maximum effect</li>
                                    </ul>
                                </div>
                                
                                <div class="lab-conclusion">
                                    <h4>🎯 Applications and Conclusions</h4>
                                    <p>Discuss practical applications including:</p>
                                    <ul>
                                        <li>How spin rate affects pitch movement and effectiveness</li>
                                        <li>Optimal spin techniques for different pitch types</li>
                                        <li>Relationship between grip, release, and spin axis</li>
                                        <li>Applications to pitching strategy and batter analysis</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    `;
                    document.querySelector('[data-tab="lab"]').click();
                });
            }
        });

        // Tab functionality
        document.querySelectorAll('.tab-button').forEach(button => {
            button.addEventListener('click', () => {
                // Remove active class from all buttons and content
                document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                
                // Add active class to clicked button
                button.classList.add('active');
                
                // Show corresponding content
                const tabName = button.getAttribute('data-tab');
                const tabContent = document.getElementById(`${tabName}-tab`);
                if (tabContent) {
                    tabContent.classList.add('active');
                }
            });
        });
    </script>
    <script src="../js/week-template.js"></script>
    <script>
        // Week 8 Interactive Physics JS
        document.addEventListener('DOMContentLoaded', function() {
            // Enhanced Magnus Force Calculator
            const velocitySlider = document.getElementById('ball-velocity-slider');
            const spinRateSlider = document.getElementById('spin-rate-slider');
            const magnusCoeffSlider = document.getElementById('magnus-coeff-slider');

            // Value display elements
            const velocityValue = document.getElementById('velocity-value');
            const velocityMph = document.getElementById('velocity-mph');
            const spinRateValue = document.getElementById('spin-rate-value');
            const magnusCoeffValue = document.getElementById('magnus-coeff-value');

            // Result display elements
            const magnusForceDisplay = document.getElementById('magnus-force-display');
            const movementDistanceDisplay = document.getElementById('movement-distance-display');
            const movementInches = document.getElementById('movement-inches');
            const pitchType = document.getElementById('pitch-type');
            const movementDirection = document.getElementById('movement-direction');

            // Formula display elements
            const formulaValues = document.getElementById('formula-values');
            const formulaResult = document.getElementById('formula-result');

            function updateCalculations() {
                const velocity = parseFloat(velocitySlider.value); // m/s
                const spinRate = parseFloat(spinRateSlider.value); // RPM
                const magnusCoeff = parseFloat(magnusCoeffSlider.value);

                // Update display values
                velocityValue.textContent = velocity.toFixed(1);
                velocityMph.textContent = (velocity * 2.237).toFixed(1);
                spinRateValue.textContent = spinRate;
                magnusCoeffValue.textContent = magnusCoeff.toFixed(5);

                // Convert units for calculation
                const omega = spinRate * 2 * Math.PI / 60; // rad/s

                // Magnus force calculation F = S × ω × v
                const magnusForce = magnusCoeff * omega * velocity;

                // Ball movement calculation over 60.5 feet (18.44m)
                const distance = 18.44; // meters
                const time = distance / velocity;
                const acceleration = magnusForce / 0.145; // baseball mass ~0.145 kg
                const movementMeters = 0.5 * acceleration * time * time;
                const movementInchesValue = movementMeters * 39.37;

                // Update result displays
                magnusForceDisplay.textContent = magnusForce.toFixed(2);
                movementDistanceDisplay.textContent = movementMeters.toFixed(3);
                movementInches.textContent = movementInchesValue.toFixed(1);

                // Update formula display
                formulaValues.textContent = `${magnusCoeff.toFixed(5)} × ${omega.toFixed(1)} × ${velocity.toFixed(1)}`;
                formulaResult.textContent = magnusForce.toFixed(2);

                // Determine pitch type and movement direction
                let pitchTypeName = 'Unknown';
                let movementDir = 'No movement';

                if (spinRate >= 2000 && spinRate <= 2600) {
                    pitchTypeName = 'Fastball';
                    movementDir = 'Upward "hop"';
                } else if (spinRate >= 2200 && spinRate <= 3000) {
                    pitchTypeName = 'Curveball';
                    movementDir = 'Downward break';
                } else if (spinRate >= 1800 && spinRate <= 2800) {
                    pitchTypeName = 'Slider';
                    movementDir = 'Lateral break';
                } else if (spinRate >= 1200 && spinRate <= 1800) {
                    pitchTypeName = 'Changeup';
                    movementDir = 'Minimal movement';
                }

                pitchType.textContent = pitchTypeName;
                movementDirection.textContent = movementDir;
            }

            // Add event listeners
            if (velocitySlider) velocitySlider.addEventListener('input', updateCalculations);
            if (spinRateSlider) spinRateSlider.addEventListener('input', updateCalculations);
            if (magnusCoeffSlider) magnusCoeffSlider.addEventListener('input', updateCalculations);

            // Pitch type preset buttons
            document.querySelectorAll('.pitch-apply-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const spinRate = this.getAttribute('data-spin');
                    const coeff = this.getAttribute('data-coeff');

                    if (spinRateSlider && spinRate) spinRateSlider.value = spinRate;
                    if (magnusCoeffSlider && coeff) magnusCoeffSlider.value = coeff;

                    updateCalculations();
                });
            });

            // Spin visualization controls
            const pitchButtons = document.querySelectorAll('.pitch-btn');
            const pitchData = {
                fastball: {
                    name: 'Fastball (Backspin)',
                    spinRate: '2300 RPM',
                    spinAxis: 'Vertical',
                    movement: 'Upward "hop"',
                    magnusDir: 'Against gravity',
                    explanation: 'Backspin creates higher pressure below the ball and lower pressure above, generating upward Magnus force that opposes gravity and creates the "rising" effect.'
                },
                curveball: {
                    name: 'Curveball (Topspin)',
                    spinRate: '2700 RPM',
                    spinAxis: 'Forward tilted',
                    movement: 'Downward break',
                    magnusDir: 'With gravity',
                    explanation: 'Topspin creates higher pressure above the ball and lower pressure below, generating downward Magnus force that adds to gravity for sharp downward movement.'
                },
                slider: {
                    name: 'Slider (Sidespin)',
                    spinRate: '2400 RPM',
                    spinAxis: 'Tilted sideways',
                    movement: 'Lateral break',
                    magnusDir: 'Horizontal',
                    explanation: 'Sidespin creates pressure differential across the ball horizontally, generating lateral Magnus force for sweeping horizontal movement.'
                },
                changeup: {
                    name: 'Changeup (Low spin)',
                    spinRate: '1500 RPM',
                    spinAxis: 'Variable',
                    movement: 'Minimal drift',
                    magnusDir: 'Reduced',
                    explanation: 'Low spin rate reduces Magnus force effects, creating deceptive minimal movement that contrasts with fastball expectations.'
                }
            };

            function updateSpinVisualization(pitchTypeName) {
                const data = pitchData[pitchTypeName];
                if (data) {
                    document.getElementById('pitch-name').textContent = data.name;
                    document.getElementById('display-spin-rate').textContent = data.spinRate;
                    document.getElementById('display-spin-axis').textContent = data.spinAxis;
                    document.getElementById('display-movement').textContent = data.movement;
                    document.getElementById('display-magnus-dir').textContent = data.magnusDir;
                    document.getElementById('physics-text').textContent = data.explanation;

                    // Update SVG visualization based on pitch type
                    const magnusForce = document.getElementById('magnus-force');
                    const forceVector = magnusForce.querySelector('.force-vector');
                    const forceLabel = magnusForce.querySelector('.force-label');

                    switch(pitchTypeName) {
                        case 'fastball':
                            forceVector.setAttribute('x2', '200');
                            forceVector.setAttribute('y2', '100');
                            forceVector.setAttribute('stroke', '#28a745');
                            forceLabel.textContent = 'Magnus Force (Up)';
                            break;
                        case 'curveball':
                            forceVector.setAttribute('x2', '200');
                            forceVector.setAttribute('y2', '300');
                            forceVector.setAttribute('stroke', '#dc3545');
                            forceLabel.textContent = 'Magnus Force (Down)';
                            break;
                        case 'slider':
                            forceVector.setAttribute('x2', '300');
                            forceVector.setAttribute('y2', '200');
                            forceVector.setAttribute('stroke', '#ffc107');
                            forceLabel.textContent = 'Magnus Force (Side)';
                            break;
                        case 'changeup':
                            forceVector.setAttribute('x2', '220');
                            forceVector.setAttribute('y2', '180');
                            forceVector.setAttribute('stroke', '#6c757d');
                            forceLabel.textContent = 'Minimal Magnus Force';
                            break;
                    }
                }
            }

            pitchButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Remove active class from all buttons
                    pitchButtons.forEach(btn => btn.classList.remove('active'));

                    // Add active class to clicked button
                    this.classList.add('active');

                    // Update visualization
                    const pitchTypeName = this.getAttribute('data-pitch');
                    updateSpinVisualization(pitchTypeName);
                });
            });

            // Initialize calculations and visualization
            updateCalculations();
            updateSpinVisualization('fastball');
        });
    </script>
    
    <!-- Mobile Navigation Overlay -->
    <div class="nav-overlay" id="nav-overlay"></div>
    
    <script>
        // Mobile Navigation Toggle - Phase 1 Critical Fix
        document.addEventListener('DOMContentLoaded', function() {
            const navToggle = document.querySelector('.nav-toggle');
            const navSidebar = document.querySelector('.nav-sidebar');
            const navOverlay = document.getElementById('nav-overlay');
            
            if (!navToggle || !navSidebar || !navOverlay) return;
            
            function toggleNav() {
                const isOpen = navSidebar.classList.contains('open');
                
                if (isOpen) {
                    navSidebar.classList.remove('open');
                    navOverlay.classList.remove('active');
                    navToggle.setAttribute('aria-expanded', 'false');
                    document.body.style.overflow = '';
                } else {
                    navSidebar.classList.add('open');
                    navOverlay.classList.add('active');
                    navToggle.setAttribute('aria-expanded', 'true');
                    document.body.style.overflow = 'hidden';
                    
                    // Focus management
                    const firstFocusable = navSidebar.querySelector('a, button');
                    if (firstFocusable) firstFocusable.focus();
                }
            }
            
            // Toggle button click
            navToggle.addEventListener('click', toggleNav);
            
            // Overlay click to close
            navOverlay.addEventListener('click', toggleNav);
            
            // Escape key to close
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && navSidebar.classList.contains('open')) {
                    toggleNav();
                    navToggle.focus();
                }
            });
            
            // Close on navigation link click (mobile)
            navSidebar.addEventListener('click', function(e) {
                if (e.target.matches('a') && window.innerWidth <= 768) {
                    toggleNav();
                }
            });
        });
    </script>
</body>
</html>