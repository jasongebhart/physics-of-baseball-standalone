<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 7: Torque and Angular Momentum - Physics of Baseball</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'><text y='32' font-size='32'>‚öæ</text></svg>">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/calculators.css">
    <link rel="stylesheet" href="../css/phase2-enhancements.css">
</head>
<body>
    <div class="container">
        <main class="main-content">
            <header class="week-header">
                <div class="header-top">
                    <button class="nav-toggle" aria-label="Toggle navigation menu" aria-expanded="false">
                        <span class="nav-toggle-line"></span>
                        <span class="nav-toggle-line"></span>
                        <span class="nav-toggle-line"></span>
                    </button>
                    <h1 class="week-title">Week 7: Torque and Angular Momentum</h1>
                </div>
                <p class="week-description">
                    This week, we'll explore how pitchers generate and transfer rotational force, examining torque application and angular momentum in creating both velocity and spin.
                </p>
            </header>

            <section class="day-section" id="day-1">
                <div class="day-header">
                    <h2 class="day-title">Day 1: Torque Fundamentals</h2>
                    <div class="day-meta">
                        <span class="duration">‚è±Ô∏è 50 minutes</span>
                        <span class="complexity">üìñ Theoretical</span>
                    </div>
                </div>

                <div class="topics-grid">
                    <div class="topic-card">
                        <div class="topic-icon">üîÑ</div>
                        <div class="topic-content">
                            <h3>Torque Definition</h3>
                            <p>Vector quantity œÑ = r √ó F = rF sin Œ∏, units N¬∑m, right-hand rule.</p>
                        </div>
                    </div>
                    <div class="topic-card">
                        <div class="topic-icon">‚öñÔ∏è</div>
                        <div class="topic-content">
                            <h3>Moment of Inertia</h3>
                            <p>Resistance to rotational acceleration I = Œ£mr¬≤, body position effects.</p>
                        </div>
                    </div>
                    <div class="topic-card">
                        <div class="topic-icon">‚öæ</div>
                        <div class="topic-content">
                            <h3>Pitching Applications</h3>
                            <p>Ground force ‚Üí Hip rotation ‚Üí Shoulder torque, kinetic chain, lever arms.</p>
                        </div>
                    </div>
                    <div class="topic-card">
                        <div class="topic-icon">üìê</div>
                        <div class="topic-content">
                            <h3>Angular Acceleration</h3>
                            <p>œÑ = IŒ± (rotational equivalent of F = ma).</p>
                        </div>
                    </div>
                </div>

                <div class="concept-showcase">
                    <h3>Torque: The Rotational Force</h3>
                    <div class="concept-card formula">
                        <h4>Torque in Pitching</h4>
                        <div class="formula-content">
                            <p><strong>Vector Form:</strong> œÑ‚Éó = r‚Éó √ó F‚Éó</p>
                            <p><strong>Scalar Form:</strong> œÑ = rF sin Œ∏</p>
                            <p><strong>Units:</strong> N¬∑m (Newton-meters)</p>
                            <div class="example">
                                <p><strong>Angular Acceleration:</strong> œÑ = IŒ±</p>
                                <p>(Rotational equivalent of F = ma)</p>
                                <p><strong>Pitching Chain:</strong> Ground force ‚Üí Hip torque ‚Üí Shoulder torque ‚Üí Ball acceleration</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="interactive-calculator" id="torque-calculator">
                    <h3>Torque Calculator</h3>
                    <div class="calculator-container">
                        <div class="calculator-section">
                            <h4>Torque Calculation</h4>
                            <div class="input-group">
                                <label for="torque-force">Force (N):</label>
                                <input type="number" id="torque-force" value="500" step="1" min="0">
                            </div>
                            <div class="input-group">
                                <label for="torque-radius">Lever Arm (m):</label>
                                <input type="number" id="torque-radius" value="0.3" step="0.01" min="0">
                            </div>
                            <div class="input-group">
                                <label for="torque-angle">Angle (degrees):</label>
                                <input type="number" id="torque-angle" value="90" step="1" min="0" max="180">
                            </div>
                            <div class="result">
                                <strong>Torque: <span id="torque-result">150</span> N¬∑m</strong>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="day-section" id="day-2">
                <div class="day-header">
                    <h2 class="day-title">Day 2: Angular Momentum Principles</h2>
                    <div class="day-meta">
                        <span class="duration">‚è±Ô∏è 50 minutes</span>
                        <span class="complexity">üí≠ Conceptual</span>
                    </div>
                </div>

                <div class="concept-showcase">
                    <h3>Angular Momentum Conservation</h3>
                    <div class="concept-card sequence">
                        <h4>Kinetic Chain Transfer</h4>
                        <div class="sequence-content">
                            <p><strong>Angular Momentum:</strong> L = Iœâ</p>
                            <div class="sequence-steps">
                                <div class="sequence-step">
                                    <h5>1. Hips</h5>
                                    <p>Large I, moderate œâ ‚Üí High L</p>
                                </div>
                                <div class="sequence-step">
                                    <h5>2. Torso</h5>
                                    <p>Medium I, higher œâ ‚Üí Transfers L</p>
                                </div>
                                <div class="sequence-step">
                                    <h5>3. Shoulder</h5>
                                    <p>Small I, very high œâ ‚Üí Concentrates L</p>
                                </div>
                                <div class="sequence-step">
                                    <h5>4. Arm/Ball</h5>
                                    <p>Tiny I, extreme œâ ‚Üí Maximum velocity</p>
                                </div>
                            </div>
                            <div class="key-insight">
                                <strong>Conservation:</strong> L<sub>total</sub> remains constant during transfer
                            </div>
                        </div>
                    </div>
                </div>

                <div class="interactive-calculator" id="angular-momentum-calc">
                    <h3>Angular Momentum Calculator</h3>
                    <div class="calculator-container">
                        <div class="calculator-section">
                            <h4>L = Iœâ Calculator</h4>
                            <div class="input-group">
                                <label for="moment-inertia">Moment of Inertia (kg¬∑m¬≤):</label>
                                <input type="number" id="moment-inertia" value="2.5" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label for="angular-vel">Angular Velocity (rad/s):</label>
                                <input type="number" id="angular-vel" value="10" step="0.1" min="0">
                            </div>
                            <div class="result">
                                <strong>Angular Momentum: <span id="angular-momentum-result">25</span> kg¬∑m¬≤/s</strong>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="day-section" id="day-3">
                <div class="day-header">
                    <h2 class="day-title">Day 3: Torque in Pitch Types</h2>
                    <div class="day-meta">
                        <span class="duration">‚è±Ô∏è 50 minutes</span>
                        <span class="complexity">üéØ Applied</span>
                    </div>
                </div>

                <div class="concept-showcase">
                    <h3>Torque Creates Spin</h3>
                    <div class="concept-card comparison">
                        <h4>Pitch Type Torque Patterns</h4>
                        <div class="comparison-content">
                            <div class="comparison-item">
                                <h5>üî• Fastball Torque</h5>
                                <ul>
                                    <li>Maximum shoulder internal rotation</li>
                                    <li>Straight-line torque application</li>
                                    <li>Creates pure backspin</li>
                                </ul>
                            </div>
                            <div class="comparison-item">
                                <h5>üåÄ Curveball Torque</h5>
                                <ul>
                                    <li>Wrist supination + finger snap</li>
                                    <li>Modified lever arm angle</li>
                                    <li>Creates topspin rotation</li>
                                </ul>
                            </div>
                            <div class="comparison-item">
                                <h5>üéØ Slider Torque</h5>
                                <ul>
                                    <li>Diagonal torque application</li>
                                    <li>Combination rotation pattern</li>
                                    <li>Creates tilted spin axis</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="day-section" id="day-4">
                <div class="day-header">
                    <h2 class="day-title">Day 4: Laboratory Investigation</h2>
                    <div class="day-meta">
                        <span class="duration">‚è±Ô∏è 50 minutes</span>
                        <span class="complexity">üß™ Experimental</span>
                    </div>
                </div>

                <div class="procedure-timeline">
                    <h3>Week 7 Lab: Rotational Force Analysis</h3>
                    <div class="procedure-step">
                        <div class="step-number">1</div>
                        <div class="step-icon">üì±</div>
                        <div class="step-content">
                            <h4>Pitch Recording</h4>
                            <p>Capture different pitch types at 240fps, focusing on wrist and finger action</p>
                            <span class="step-duration">15 min</span>
                        </div>
                    </div>
                    <div class="procedure-step">
                        <div class="step-number">2</div>
                        <div class="step-icon">üåÄ</div>
                        <div class="step-content">
                            <h4>Spin Analysis</h4>
                            <p>Measure spin rates and calculate torques required for different pitch movements</p>
                            <span class="step-duration">20 min</span>
                        </div>
                    </div>
                    <div class="procedure-step">
                        <div class="step-number">3</div>
                        <div class="step-icon">‚öñÔ∏è</div>
                        <div class="step-content">
                            <h4>Conservation Testing</h4>
                            <p>Analyze angular momentum transfer through kinetic chain sequences</p>
                            <span class="step-duration">15 min</span>
                        </div>
                    </div>
                </div>
            </section>

            <section class="day-section" id="day-5">
                <div class="day-header">
                    <h2 class="day-title">Day 5: Pitch Design & Applications</h2>
                    <div class="day-meta">
                        <span class="duration">‚è±Ô∏è 50 minutes</span>
                        <span class="complexity">üéì Synthesis</span>
                    </div>
                </div>

                <div class="procedure-timeline">
                    <h3>Final Challenge: Personal Pitch Design</h3>
                    <div class="procedure-step">
                        <div class="step-number">1</div>
                        <div class="step-icon">üé•</div>
                        <div class="step-content">
                            <h4>Torque Analysis</h4>
                            <p>Record and analyze your torque generation across different pitch types</p>
                            <span class="step-duration">15 min</span>
                        </div>
                    </div>
                    <div class="procedure-step">
                        <div class="step-number">2</div>
                        <div class="step-icon">üî¨</div>
                        <div class="step-content">
                            <h4>Optimization Calculation</h4>
                            <p>Calculate torques and identify efficiency improvements</p>
                            <span class="step-duration">20 min</span>
                        </div>
                    </div>
                    <div class="procedure-step">
                        <div class="step-number">3</div>
                        <div class="step-icon">üé®</div>
                        <div class="step-content">
                            <h4>Pitch Design</h4>
                            <p>Design new pitch based on torque and angular momentum principles</p>
                            <span class="step-duration">15 min</span>
                        </div>
                    </div>
                </div>

                <div class="week-summary">
                    <h3>Week 7 Summary: Key Concepts</h3>
                    <div class="concepts-grid">
                        <div class="concept-item">
                            <h4>Torque</h4>
                            <p>Rotational force (œÑ = r √ó F = rF sin Œ∏), creates angular acceleration</p>
                        </div>
                        <div class="concept-item">
                            <h4>Moment of Inertia</h4>
                            <p>Resistance to rotational acceleration (I = Œ£mr¬≤), body position affects I</p>
                        </div>
                        <div class="concept-item">
                            <h4>Angular Momentum</h4>
                            <p>Rotational momentum (L = Iœâ), conserved in closed systems</p>
                        </div>
                        <div class="concept-item">
                            <h4>Kinetic Chain Transfer</h4>
                            <p>Sequential transfer from large I/low œâ to small I/high œâ</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Assessment Section -->
            <section class="assessment-section">
                <h2>üìù Week 7 Assessment</h2>
                
                <div class="assessment-tabs">
                    <button class="tab-button active" data-tab="quiz">Quiz</button>
                    <button class="tab-button" data-tab="practice">Practice Problems</button>
                    <button class="tab-button" data-tab="lab">Lab Report</button>
                </div>
                
                <div class="tab-content active" id="quiz-tab">
                    <div class="assessment-preview">
                        <div class="preview-header">
                            <h3>üìù Quiz Topics</h3>
                            <div class="difficulty-badges">
                                <span class="difficulty-badge basic">Basic</span>
                                <span class="difficulty-badge intermediate">Intermediate</span>
                                <span class="difficulty-badge advanced">Advanced</span>
                            </div>
                        </div>
                        
                        <div class="topic-previews">
                            <div class="topic-preview">
                                <div class="preview-icon">üîß</div>
                                <div class="preview-content">
                                    <h4>Torque Fundamentals</h4>
                                    <p>Test understanding of torque concepts and their applications in baseball pitching rotations.</p>
                                    <div class="preview-tags">
                                        <span class="tag">œÑ = r √ó F</span>
                                        <span class="tag">Lever Arm</span>
                                        <span class="tag">Rotational Force</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="topic-preview">
                                <div class="preview-icon">üå™Ô∏è</div>
                                <div class="preview-content">
                                    <h4>Angular Momentum</h4>
                                    <p>Apply angular momentum principles to analyze rotational motion conservation in pitching.</p>
                                    <div class="preview-tags">
                                        <span class="tag">L = Iœâ</span>
                                        <span class="tag">Conservation</span>
                                        <span class="tag">Moment of Inertia</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="topic-preview">
                                <div class="preview-icon">‚öæ</div>
                                <div class="preview-content">
                                    <h4>Baseball Applications</h4>
                                    <p>Analyze torque and angular momentum in pitching mechanics and performance optimization.</p>
                                    <div class="preview-tags">
                                        <span class="tag">Body Rotation</span>
                                        <span class="tag">Joint Torques</span>
                                        <span class="tag">Performance</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="assessment-actions">
                            <div class="assessment-cta">
                                <p class="cta-text">Ready to test your knowledge?</p>
                                <button class="btn btn-primary assessment-start-btn" id="start-quiz" aria-label="Start Week 7 Torque and Angular Momentum Quiz">
                                    <span class="loading-spinner" style="display: none;" aria-hidden="true"></span>
                                    <span class="btn-icon">üöÄ</span>
                                    <span class="btn-text">Start Interactive Quiz</span>
                                </button>
                                <p class="assessment-info">16-20 questions ‚Ä¢ ~12 minutes</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="practice-tab">
                    <div class="assessment-preview">
                        <div class="preview-header">
                            <h3>üéØ Practice Problems</h3>
                            <div class="difficulty-badges">
                                <span class="difficulty-badge basic">Guided</span>
                                <span class="difficulty-badge intermediate">Independent</span>
                                <span class="difficulty-badge advanced">Challenge</span>
                            </div>
                        </div>
                        
                        <div class="problem-categories">
                            <div class="category-card">
                                <div class="category-header">
                                    <span class="category-icon">üîß</span>
                                    <h4>Torque Calculations</h4>
                                </div>
                                <div class="category-content">
                                    <p><strong>Problem Set A:</strong> Calculate torques and analyze rotational effects in baseball scenarios.</p>
                                    <ul class="problem-list">
                                        <li>üîß Torque calculations for joint rotations</li>
                                        <li>üìè Lever arm analysis in pitching mechanics</li>
                                        <li>üí™ Muscle torque requirements for rotation</li>
                                        <li>üî¢ Cross product calculations for torque vectors</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="category-card">
                                <div class="category-header">
                                    <span class="category-icon">üå™Ô∏è</span>
                                    <h4>Angular Momentum Analysis</h4>
                                </div>
                                <div class="category-content">
                                    <p><strong>Problem Set B:</strong> Apply angular momentum conservation and transfer principles.</p>
                                    <ul class="problem-list">
                                        <li>üåÄ Angular momentum calculations (L = Iœâ)</li>
                                        <li>‚öñÔ∏è Conservation of angular momentum applications</li>
                                        <li>üîÑ Moment of inertia effects on rotation</li>
                                        <li>üéØ Angular momentum transfer through kinetic chain</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="category-card">
                                <div class="category-header">
                                    <span class="category-icon">üèÜ</span>
                                    <h4>Advanced Rotational Dynamics</h4>
                                </div>
                                <div class="category-content">
                                    <p><strong>Problem Set C:</strong> Complex problems involving torque and angular momentum optimization.</p>
                                    <ul class="problem-list">
                                        <li>üîÑ Multi-segment torque and momentum analysis</li>
                                        <li>‚öôÔ∏è Optimization of rotational mechanics</li>
                                        <li>üìä Comparative analysis of pitching techniques</li>
                                        <li>üéõÔ∏è Advanced integration of rotational dynamics</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="assessment-actions">
                            <div class="assessment-cta">
                                <p class="cta-text">Practice makes perfect!</p>
                                <button class="btn btn-secondary assessment-start-btn" id="start-practice" aria-label="Start Week 7 Practice Problems">
                                    <span class="loading-spinner" style="display: none;" aria-hidden="true"></span>
                                    <span class="btn-icon">üéØ</span>
                                    <span class="btn-text">Start Practice Problems</span>
                                </button>
                                <p class="assessment-info">4 torque problems ‚Ä¢ Step-by-step solutions</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="lab-tab">
                    <div class="assessment-preview">
                        <div class="preview-header">
                            <h3>üî¨ Laboratory Experiment</h3>
                            <div class="lab-badges">
                                <span class="lab-badge data">Data Collection</span>
                                <span class="lab-badge analysis">Analysis</span>
                                <span class="lab-badge report">Report Writing</span>
                            </div>
                        </div>
                        
                        <div class="lab-overview">
                            <div class="lab-card">
                                <div class="lab-header">
                                    <span class="lab-icon">üîß</span>
                                    <h4>Torque and Angular Momentum in Baseball Pitching</h4>
                                </div>
                                <div class="lab-content">
                                    <p><strong>Objective:</strong> Investigate torque generation and angular momentum transfer in baseball pitching mechanics.</p>
                                    
                                    <div class="lab-sections">
                                        <div class="lab-section">
                                            <h5>üìã Pre-Lab Preparation</h5>
                                            <ul>
                                                <li>Review torque and angular momentum equations</li>
                                                <li>Set up torque measurement equipment and sensors</li>
                                                <li>Prepare motion capture for rotational analysis</li>
                                                <li>Safety protocols for biomechanical torque measurements</li>
                                            </ul>
                                        </div>
                                        
                                        <div class="lab-section">
                                            <h5>üî¨ Experimental Procedure</h5>
                                            <ul>
                                                <li>Measure joint torques throughout pitching motion</li>
                                                <li>Calculate moments of inertia for body segments</li>
                                                <li>Analyze angular momentum transfer sequences</li>
                                                <li>Document torque-velocity relationships</li>
                                                <li>Compare torque patterns across pitch types</li>
                                            </ul>
                                        </div>
                                        
                                        <div class="lab-section">
                                            <h5>üìä Data Analysis</h5>
                                            <ul>
                                                <li>Calculate torques using œÑ = r √ó F measurements</li>
                                                <li>Apply L = Iœâ to determine angular momentum</li>
                                                <li>Analyze conservation of angular momentum</li>
                                                <li>Create torque-time and momentum-time graphs</li>
                                            </ul>
                                        </div>
                                        
                                        <div class="lab-section">
                                            <h5>üìù Lab Report Components</h5>
                                            <ul>
                                                <li>Introduction: Torque and angular momentum principles</li>
                                                <li>Methods: Measurement procedures and equipment setup</li>
                                                <li>Results: Torque and momentum calculations with graphs</li>
                                                <li>Discussion: Rotational dynamics in pitching performance</li>
                                                <li>Conclusion: Applications for improving rotational efficiency</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="assessment-actions">
                            <div class="assessment-cta">
                                <p class="cta-text">Ready for hands-on investigation?</p>
                                <button class="btn btn-accent assessment-start-btn" id="start-lab" aria-label="Start Week 7 Laboratory Investigation">
                                    <span class="loading-spinner" style="display: none;" aria-hidden="true"></span>
                                    <span class="btn-icon">üî¨</span>
                                    <span class="btn-text">Start Lab Investigation</span>
                                </button>
                                <p class="assessment-info">Angular motion analysis ‚Ä¢ Torque measurement ‚Ä¢ Report writing</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <nav class="nav-sidebar">
            <div class="nav-header">
                <div class="nav-title">Physics of Baseball</div>
                <div class="nav-subtitle">Week 7: Torque and Angular Momentum</div>
            </div>

            <div class="home-nav">
                <a href="../index.html" class="home-link"><span>üè†</span><span>Course Home</span></a>
            </div>

            <div class="week-nav">
                <div class="nav-section-title">Weeks</div>
                <div class="week-links">
                    <a href="week-01.html" class="week-link"><span>1</span><span>Introduction to Motion</span></a>
                    <a href="week-02.html" class="week-link"><span>2</span><span>Projectile Motion</span></a>
                    <a href="week-03.html" class="week-link"><span>3</span><span>Forces and Newton's Laws</span></a>
                    <a href="week-04.html" class="week-link"><span>4</span><span>Momentum and Impulse</span></a>
                    <a href="week-05.html" class="week-link"><span>5</span><span>Work and Energy</span></a>
                    <a href="week-06.html" class="week-link"><span>6</span><span>Circular Motion</span></a>
                    <a href="week-07.html" class="week-link active"><span>7</span><span>Torque and Angular Momentum</span></a>
                    <a href="week-08.html" class="week-link"><span>8</span><span>Physics of Spin</span></a>
                    <a href="week-09.html" class="week-link"><span>9</span><span>Aerodynamics</span></a>
                    <a href="week-10.html" class="week-link"><span>10</span><span>Pitching Mechanics</span></a>
                    <a href="week-11.html" class="week-link"><span>11</span><span>Measurement and Data</span></a>
                    <a href="week-12.html" class="week-link"><span>12</span><span>Equipment Physics</span></a>
                    <a href="week-13.html" class="week-link"><span>13</span><span>Review and Application</span></a>
                </div>
            </div>

            <div class="daily-nav">
                <div class="nav-section-title">This Week</div>
                <div class="daily-links">
                    <a href="#day-1" class="daily-link"><span>üîÑ</span><span>Torque Fundamentals</span></a>
                    <a href="#day-2" class="daily-link"><span>‚öñÔ∏è</span><span>Angular Momentum Principles</span></a>
                    <a href="#day-3" class="daily-link"><span>‚öæ</span><span>Torque in Pitch Types</span></a>
                    <a href="#day-4" class="daily-link"><span>üî¨</span><span>Laboratory Investigation</span></a>
                    <a href="#day-5" class="daily-link"><span>üé®</span><span>Pitch Design & Applications</span></a>
                </div>
            </div>
        </nav>
    </div>

    <script type="module" src="../js/main.js"></script>
    <script src="../js/week-template.js"></script>
    <script type="module" src="../js/interactive-learning.js"></script>
    <script type="module">
        import { QuizSystem } from '../js/assessment.js';

        // Assessment button handlers
        document.addEventListener('DOMContentLoaded', function() {
            // Quiz functionality
            const startQuizBtn = document.getElementById('start-quiz');
            if (startQuizBtn) {
                startQuizBtn.addEventListener('click', async function() {
                    const spinner = this.querySelector('.loading-spinner');
                    if (spinner) spinner.style.display = 'inline-block';
                    this.disabled = true;
                    
                    try {
                        const quizTab = document.getElementById('quiz-content');
                        quizTab.innerHTML = '<div id="week7-quiz-container"></div>';
                        
                        // Import and use Enhanced Quiz System
                        const { EnhancedQuizSystem } = await import('../js/enhanced-assessment.js');
                        const enhancedQuizSystem = new EnhancedQuizSystem('week7-quiz-container');
                        await enhancedQuizSystem.createQuiz('week7');
                        document.querySelector('[data-tab="quiz"]').click();
                    } catch (error) {
                        console.error('Failed to load quiz:', error);
                        alert('Failed to load quiz. Please try again.');
                    } finally {
                        if (spinner) spinner.style.display = 'none';
                        this.disabled = false;
                    }
                });
            }
            
            // Practice problems functionality
            const startPracticeBtn = document.getElementById('start-practice');
            if (startPracticeBtn) {
                startPracticeBtn.addEventListener('click', function() {
                    const practiceTab = document.getElementById('practice-content');
                    const existingProblems = practiceTab.querySelector('.problem-set');
                    if (existingProblems) {
                        practiceTab.innerHTML = `
                            <div class="practice-problems">
                                <h3>üéØ Week 7 Practice Problems: Torque and Angular Momentum</h3>
                                <div class="problem-set">
                                    ${existingProblems.innerHTML}
                                </div>
                            </div>
                        `;
                        
                        // Add solution toggle functionality
                        practiceTab.querySelectorAll('.show-solution, .toggle-solution').forEach(button => {
                            button.addEventListener('click', function() {
                                const solution = this.parentElement.querySelector('.solution, .problem-solution');
                                if (solution.style.display === 'none' || !solution.style.display) {
                                    solution.style.display = 'block';
                                    this.textContent = 'Hide Solution';
                                } else {
                                    solution.style.display = 'none';
                                    this.textContent = 'Show Solution';
                                }
                            });
                        });
                    }
                    document.querySelector('[data-tab="practice"]').click();
                });
            }
            
            // Lab functionality
            const startLabBtn = document.getElementById('start-lab');
            if (startLabBtn) {
                startLabBtn.addEventListener('click', function() {
                    const labTab = document.getElementById('lab-content');
                    labTab.innerHTML = `
                        <div class="lab-investigation">
                            <h3>üî¨ Week 7 Lab: Torque and Angular Momentum Analysis</h3>
                            <div class="lab-content">
                                <div class="lab-intro">
                                    <p>This laboratory investigation explores rotational motion in baseball through measurement and analysis of torque and angular momentum.</p>
                                </div>
                                
                                <div class="lab-objectives">
                                    <h4>üéØ Learning Objectives</h4>
                                    <ul>
                                        <li>Measure torque in bat swings and pitching motions</li>
                                        <li>Calculate angular momentum during rotational movements</li>
                                        <li>Analyze the relationship between torque and angular acceleration</li>
                                        <li>Investigate conservation of angular momentum</li>
                                        <li>Apply rotational dynamics to batting and pitching performance</li>
                                    </ul>
                                </div>
                                
                                <div class="lab-procedure">
                                    <h4>üìã Experimental Procedure</h4>
                                    <div class="procedure-steps">
                                        <div class="step-card">
                                            <h5>Step 1: Equipment Setup</h5>
                                            <p>Gather materials: baseball bats of different lengths/masses, baseballs, torque meter, high-speed camera, measuring tape.</p>
                                        </div>
                                        <div class="step-card">
                                            <h5>Step 2: Bat Measurements</h5>
                                            <p>Measure bat dimensions, mass, and center of mass location for moment of inertia calculations.</p>
                                        </div>
                                        <div class="step-card">
                                            <h5>Step 3: Swing Analysis</h5>
                                            <p>Record bat swings using high-speed video to measure angular velocity and angular acceleration.</p>
                                        </div>
                                        <div class="step-card">
                                            <h5>Step 4: Torque Measurements</h5>
                                            <p>Use torque sensors to measure the torque applied during different phases of the swing.</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="lab-analysis">
                                    <h4>üìä Data Analysis</h4>
                                    <p>Calculate and analyze:</p>
                                    <ul>
                                        <li>Moment of inertia for different bat configurations</li>
                                        <li>Angular velocity and acceleration throughout swing</li>
                                        <li>Torque values during acceleration and deceleration phases</li>
                                        <li>Angular momentum conservation during bat-ball collision</li>
                                    </ul>
                                </div>
                                
                                <div class="lab-conclusion">
                                    <h4>üéØ Applications and Conclusions</h4>
                                    <p>Discuss practical applications including:</p>
                                    <ul>
                                        <li>Optimal bat weight and length for different players</li>
                                        <li>Importance of follow-through in batting technique</li>
                                        <li>How torque affects bat speed and hitting power</li>
                                        <li>Applications to pitching mechanics and arm motion</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    `;
                    document.querySelector('[data-tab="lab"]').click();
                });
            }
        });

        // Tab functionality
        document.querySelectorAll('.tab-button').forEach(button => {
            button.addEventListener('click', () => {
                // Remove active class from all buttons and content
                document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                
                // Add active class to clicked button
                button.classList.add('active');
                
                // Show corresponding content
                const tabName = button.getAttribute('data-tab');
                const tabContent = document.getElementById(`${tabName}-tab`);
                if (tabContent) {
                    tabContent.classList.add('active');
                }
            });
        });
    </script>
    <script>
        // Week 7 Torque and Angular Momentum Calculator JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            // Torque Calculator
            const torqueForce = document.getElementById('torque-force');
            const torqueRadius = document.getElementById('torque-radius');
            const torqueAngle = document.getElementById('torque-angle');
            const torqueResult = document.getElementById('torque-result');

            function calculateTorque() {
                if (torqueForce && torqueRadius && torqueAngle && torqueResult) {
                    const force = parseFloat(torqueForce.value) || 0;
                    const radius = parseFloat(torqueRadius.value) || 0;
                    const angle = parseFloat(torqueAngle.value) || 0;
                    const torque = force * radius * Math.sin(angle * Math.PI / 180);
                    torqueResult.textContent = torque.toFixed(1);
                }
            }

            if (torqueForce && torqueRadius && torqueAngle) {
                torqueForce.addEventListener('input', calculateTorque);
                torqueRadius.addEventListener('input', calculateTorque);
                torqueAngle.addEventListener('input', calculateTorque);
            }

            // Angular Momentum Calculator
            const momentInertia = document.getElementById('moment-inertia');
            const angularVel = document.getElementById('angular-vel');
            const angularMomentumResult = document.getElementById('angular-momentum-result');

            function calculateAngularMomentum() {
                if (momentInertia && angularVel && angularMomentumResult) {
                    const I = parseFloat(momentInertia.value) || 0;
                    const omega = parseFloat(angularVel.value) || 0;
                    const L = I * omega;
                    angularMomentumResult.textContent = L.toFixed(1);
                }
            }

            if (momentInertia && angularVel) {
                momentInertia.addEventListener('input', calculateAngularMomentum);
                angularVel.addEventListener('input', calculateAngularMomentum);
            }

            // Initialize calculations
            calculateTorque();
            calculateAngularMomentum();
        });
    </script>
    
    <!-- Mobile Navigation Overlay -->
    <div class="nav-overlay" id="nav-overlay"></div>
    
    <script>
        // Mobile Navigation Toggle - Phase 1 Critical Fix
        document.addEventListener('DOMContentLoaded', function() {
            const navToggle = document.querySelector('.nav-toggle');
            const navSidebar = document.querySelector('.nav-sidebar');
            const navOverlay = document.getElementById('nav-overlay');
            
            if (!navToggle || !navSidebar || !navOverlay) return;
            
            function toggleNav() {
                const isOpen = navSidebar.classList.contains('open');
                
                if (isOpen) {
                    navSidebar.classList.remove('open');
                    navOverlay.classList.remove('active');
                    navToggle.setAttribute('aria-expanded', 'false');
                    document.body.style.overflow = '';
                } else {
                    navSidebar.classList.add('open');
                    navOverlay.classList.add('active');
                    navToggle.setAttribute('aria-expanded', 'true');
                    document.body.style.overflow = 'hidden';
                    
                    // Focus management
                    const firstFocusable = navSidebar.querySelector('a, button');
                    if (firstFocusable) firstFocusable.focus();
                }
            }
            
            // Toggle button click
            navToggle.addEventListener('click', toggleNav);
            
            // Overlay click to close
            navOverlay.addEventListener('click', toggleNav);
            
            // Escape key to close
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && navSidebar.classList.contains('open')) {
                    toggleNav();
                    navToggle.focus();
                }
            });
            
            // Close on navigation link click (mobile)
            navSidebar.addEventListener('click', function(e) {
                if (e.target.matches('a') && window.innerWidth <= 768) {
                    toggleNav();
                }
            });
        });
    </script>
</body>
</html>