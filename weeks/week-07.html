<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 7: Torque and Angular Momentum - Physics of Baseball</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'><text y='32' font-size='32'>‚öæ</text></svg>">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/calculators.css">
    <style>
        /* Enhanced Week 7 Torque and Angular Momentum Styling */
        .enhanced-rotational-analyzer {
            background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%);
            border-radius: 12px;
            padding: 24px;
            margin: 24px 0;
            border: 1px solid #c084fc;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        .analyzer-intro {
            color: #64748b;
            font-style: italic;
            margin-bottom: 20px;
            text-align: center;
        }

        .rotational-calculator-panel {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #e9d5ff;
        }

        .calculator-controls-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 20px;
        }

        .control-section {
            background: #faf5ff;
            padding: 16px;
            border-radius: 8px;
            border: 1px solid #e9d5ff;
        }

        .control-label {
            display: block;
            font-weight: 600;
            margin-bottom: 12px;
            color: #374151;
        }

        .control-section input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: #e5e7eb;
            outline: none;
            margin: 12px 0;
            cursor: pointer;
        }

        .control-section input[type="range"]::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #8b5cf6;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            transition: all 0.2s ease;
        }

        .control-section input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: 0 3px 8px rgba(139, 92, 246, 0.4);
        }

        .force-indicators,
        .lever-indicators,
        .angle-indicators,
        .inertia-indicators {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
        }

        .force-mark,
        .lever-mark,
        .angle-mark,
        .inertia-mark {
            font-size: 0.75rem;
            color: #6b7280;
            background: white;
            padding: 4px 8px;
            border-radius: 4px;
            border: 1px solid #d1d5db;
        }

        .calculations-display {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            background: #f3e8ff;
            padding: 16px;
            border-radius: 8px;
            border: 1px solid #8b5cf6;
        }

        .calc-result {
            text-align: center;
            padding: 8px;
            background: white;
            border-radius: 6px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .calc-label {
            display: block;
            font-size: 0.875rem;
            color: #6b7280;
            margin-bottom: 4px;
        }

        .calc-value {
            display: block;
            font-size: 1.25rem;
            font-weight: 700;
        }

        .torque-value {
            color: #dc2626;
        }

        .acceleration-value {
            color: #059669;
        }

        .momentum-value {
            color: #7c3aed;
        }

        .torque-diagram-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #e9d5ff;
        }

        .torque-diagram svg {
            width: 100%;
            height: auto;
            max-width: 500px;
            margin: 0 auto;
            display: block;
        }

        .pivot-label,
        .lever-label,
        .force-label,
        .angle-label,
        .torque-label,
        .inertia-label {
            font-size: 11px;
            fill: #374151;
            font-weight: 600;
        }

        .scale-text {
            font-size: 10px;
            fill: #6b7280;
        }

        .equations-demo-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            border: 1px solid #e9d5ff;
        }

        .equations-display {
            text-align: left;
        }

        .equation-row {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            font-size: 1.1rem;
            font-family: 'Courier New', monospace;
        }

        .equation-label {
            min-width: 160px;
            color: #374151;
            font-weight: 600;
        }

        .equation-formula {
            color: #6b7280;
            font-weight: 500;
            margin-right: 8px;
        }

        .torque-equation {
            color: #dc2626;
            font-weight: 700;
        }

        .acceleration-equation {
            color: #059669;
            font-weight: 700;
        }

        .momentum-equation {
            color: #7c3aed;
            font-weight: 700;
        }

        .equations-explanation {
            color: #6b7280;
            font-style: italic;
            line-height: 1.6;
            margin-top: 16px;
            text-align: center;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .calculator-controls-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }

            .calculations-display {
                grid-template-columns: 1fr;
                gap: 12px;
            }

            .enhanced-rotational-analyzer {
                padding: 16px;
                margin: 16px 0;
            }

            .torque-diagram svg {
                height: 200px;
            }

            .equation-row {
                flex-direction: column;
                align-items: flex-start;
                font-size: 0.95rem;
            }

            .equation-label {
                min-width: auto;
                margin-bottom: 4px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <main class="main-content">
            <header class="week-header">
                <div class="header-top">
                    <button class="nav-toggle" aria-label="Toggle navigation menu" aria-expanded="false">
                        <span class="nav-toggle-line"></span>
                        <span class="nav-toggle-line"></span>
                        <span class="nav-toggle-line"></span>
                    </button>
                    <h1 class="week-title">Week 7: Torque and Angular Momentum</h1>
                </div>
                <p class="week-description">
                    This week, we'll explore how pitchers generate and transfer rotational force, examining torque application and angular momentum in creating both velocity and spin.
                </p>
            </header>

            <section id="objectives" class="day-section">
                <h2>üéØ Learning Objectives</h2>
                <div class="objectives-container">
                    <ul class="objectives-list">
                        <li class="objective-item">
                            <span class="objective-icon">üîÑ</span>
                            <div class="objective-content">
                                <span class="objective-text">Define torque and understand how rotational force creates angular acceleration</span>
                                <span class="objective-difficulty basic">Basic</span>
                            </div>
                        </li>
                        <li class="objective-item">
                            <span class="objective-icon">‚öñÔ∏è</span>
                            <div class="objective-content">
                                <span class="objective-text">Calculate moment of inertia for different body configurations and objects</span>
                                <span class="objective-difficulty intermediate">Intermediate</span>
                            </div>
                        </li>
                        <li class="objective-item">
                            <span class="objective-icon">üåÄ</span>
                            <div class="objective-content">
                                <span class="objective-text">Apply conservation of angular momentum to analyze kinetic chain transfer</span>
                                <span class="objective-difficulty advanced">Advanced</span>
                            </div>
                        </li>
                        <li class="objective-item">
                            <span class="objective-icon">‚öæ</span>
                            <div class="objective-content">
                                <span class="objective-text">Analyze how torque generation through the body creates pitch velocity and spin</span>
                                <span class="objective-difficulty advanced">Advanced</span>
                            </div>
                        </li>
                        <li class="objective-item">
                            <span class="objective-icon">üéØ</span>
                            <div class="objective-content">
                                <span class="objective-text">Optimize torque application patterns to maximize pitching efficiency</span>
                                <span class="objective-difficulty expert">Expert</span>
                            </div>
                        </li>
                    </ul>
                </div>
            </section>

            <!-- Week Learning Roadmap -->
            <section class="week-roadmap-container" aria-labelledby="roadmap-title">
                <div class="roadmap-header">
                    <h2 id="roadmap-title">üõ§Ô∏è Week 7 Learning Journey: Mastering Torque and Angular Momentum</h2>
                    <p class="roadmap-subtitle">Explore rotational dynamics and discover how torque creates angular acceleration and momentum transfer</p>
                </div>

                <div class="roadmap-content">
                    <div class="roadmap-steps">
                        <div class="roadmap-step" data-step="1">
                            <div class="step-marker">
                                <span class="step-number">1</span>
                                <div class="step-connector"></div>
                            </div>
                            <div class="step-content">
                                <h3 class="step-title">üîÑ Torque Fundamentals</h3>
                                <p class="step-description">Master torque definition (œÑ = r √ó F = rF sin Œ∏) and understand how rotational force creates angular motion</p>
                                <div class="step-skills">
                                    <span class="skill-tag">œÑ = r √ó F</span>
                                    <span class="skill-tag">Cross Product</span>
                                    <span class="skill-tag">Right-Hand Rule</span>
                                </div>
                            </div>
                        </div>

                        <div class="roadmap-step" data-step="2">
                            <div class="step-marker">
                                <span class="step-number">2</span>
                                <div class="step-connector"></div>
                            </div>
                            <div class="step-content">
                                <h3 class="step-title">‚öñÔ∏è Moment of Inertia</h3>
                                <p class="step-description">Understand rotational inertia (I = Œ£mr¬≤) and how mass distribution affects rotational resistance</p>
                                <div class="step-skills">
                                    <span class="skill-tag">I = Œ£mr¬≤</span>
                                    <span class="skill-tag">Mass Distribution</span>
                                    <span class="skill-tag">Rotational Inertia</span>
                                </div>
                            </div>
                        </div>

                        <div class="roadmap-step" data-step="3">
                            <div class="step-marker">
                                <span class="step-number">3</span>
                                <div class="step-connector"></div>
                            </div>
                            <div class="step-content">
                                <h3 class="step-title">‚ö° Rotational Dynamics</h3>
                                <p class="step-description">Apply Newton's second law for rotation (œÑ = IŒ±) to analyze angular acceleration</p>
                                <div class="step-skills">
                                    <span class="skill-tag">œÑ = IŒ±</span>
                                    <span class="skill-tag">Angular Acceleration</span>
                                    <span class="skill-tag">Rotational Newton's Law</span>
                                </div>
                            </div>
                        </div>

                        <div class="roadmap-step" data-step="4">
                            <div class="step-marker">
                                <span class="step-number">4</span>
                                <div class="step-connector"></div>
                            </div>
                            <div class="step-content">
                                <h3 class="step-title">üåÄ Angular Momentum</h3>
                                <p class="step-description">Explore angular momentum (L = Iœâ) and conservation principles in rotational motion</p>
                                <div class="step-skills">
                                    <span class="skill-tag">L = Iœâ</span>
                                    <span class="skill-tag">Conservation Law</span>
                                    <span class="skill-tag">Momentum Transfer</span>
                                </div>
                            </div>
                        </div>

                        <div class="roadmap-step" data-step="5">
                            <div class="step-marker">
                                <span class="step-number">5</span>
                                <div class="step-connector"></div>
                            </div>
                            <div class="step-content">
                                <h3 class="step-title">‚öæ Kinetic Chain Analysis</h3>
                                <p class="step-description">Study how angular momentum transfers through the pitcher's body from legs to ball</p>
                                <div class="step-skills">
                                    <span class="skill-tag">Sequential Transfer</span>
                                    <span class="skill-tag">Body Mechanics</span>
                                    <span class="skill-tag">Energy Efficiency</span>
                                </div>
                            </div>
                        </div>

                        <div class="roadmap-step" data-step="6">
                            <div class="step-marker">
                                <span class="step-number">6</span>
                                <div class="step-connector"></div>
                            </div>
                            <div class="step-content">
                                <h3 class="step-title">üî¨ Rotational Dynamics Lab</h3>
                                <p class="step-description">Measure and analyze torque and angular momentum in real pitching scenarios</p>
                                <div class="step-skills">
                                    <span class="skill-tag">Torque Measurement</span>
                                    <span class="skill-tag">Motion Analysis</span>
                                    <span class="skill-tag">Data Collection</span>
                                </div>
                            </div>
                        </div>

                        <div class="roadmap-step" data-step="7">
                            <div class="step-marker">
                                <span class="step-number">7</span>
                            </div>
                            <div class="step-content">
                                <h3 class="step-title">üéØ Performance Optimization</h3>
                                <p class="step-description">Use rotational dynamics principles to optimize torque application and maximize pitching performance</p>
                                <div class="step-skills">
                                    <span class="skill-tag">Torque Optimization</span>
                                    <span class="skill-tag">Performance Analysis</span>
                                    <span class="skill-tag">Technique Refinement</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="day-section" id="day-1">
                <div class="day-header">
                    <h2 class="day-title">Day 1: Torque Fundamentals</h2>
                    <div class="day-meta">
                        <span class="duration">‚è±Ô∏è 50 minutes</span>
                        <span class="complexity">üìñ Theoretical</span>
                    </div>
                </div>

                <div class="topics-grid">
                    <div class="topic-card">
                        <div class="topic-icon">üîÑ</div>
                        <div class="topic-content">
                            <h3>Torque Definition</h3>
                            <p>Vector quantity œÑ = r √ó F = rF sin Œ∏, units N¬∑m, right-hand rule.</p>
                        </div>
                    </div>
                    <div class="topic-card">
                        <div class="topic-icon">‚öñÔ∏è</div>
                        <div class="topic-content">
                            <h3>Moment of Inertia</h3>
                            <p>Resistance to rotational acceleration I = Œ£mr¬≤, body position effects.</p>
                        </div>
                    </div>
                    <div class="topic-card">
                        <div class="topic-icon">‚öæ</div>
                        <div class="topic-content">
                            <h3>Pitching Applications</h3>
                            <p>Ground force ‚Üí Hip rotation ‚Üí Shoulder torque, kinetic chain, lever arms.</p>
                        </div>
                    </div>
                    <div class="topic-card">
                        <div class="topic-icon">üìê</div>
                        <div class="topic-content">
                            <h3>Angular Acceleration</h3>
                            <p>œÑ = IŒ± (rotational equivalent of F = ma).</p>
                        </div>
                    </div>
                </div>

                <div class="concept-showcase">
                    <h3>Torque: The Rotational Force</h3>
                    <div class="concept-card formula">
                        <h4>Torque in Pitching</h4>
                        <div class="formula-content">
                            <p><strong>Vector Form:</strong> œÑ‚Éó = r‚Éó √ó F‚Éó</p>
                            <p><strong>Scalar Form:</strong> œÑ = rF sin Œ∏</p>
                            <p><strong>Units:</strong> N¬∑m (Newton-meters)</p>
                            <div class="example">
                                <p><strong>Angular Acceleration:</strong> œÑ = IŒ±</p>
                                <p>(Rotational equivalent of F = ma)</p>
                                <p><strong>Pitching Chain:</strong> Ground force ‚Üí Hip torque ‚Üí Shoulder torque ‚Üí Ball acceleration</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Interactive Rotational Dynamics Analysis System -->
                <div class="enhanced-rotational-analyzer">
                    <h4>üéØ Interactive Rotational Dynamics Analysis System</h4>
                    <p class="analyzer-intro">Explore torque and angular momentum with real-time calculations and visual rotational mechanics diagrams</p>

                    <!-- Rotational Dynamics Calculator Controls -->
                    <div class="rotational-calculator-panel">
                        <h5>‚öôÔ∏è Rotational Parameters</h5>
                        <div class="calculator-controls-grid">
                            <div class="control-section">
                                <label class="control-label">Force (N): <span id="rotational-force-display">500</span></label>
                                <input type="range" id="rotational-force-input" min="100" max="2000" value="500" step="50">
                                <div class="force-indicators">
                                    <span class="force-mark" data-force="200">Light</span>
                                    <span class="force-mark" data-force="800">Moderate</span>
                                    <span class="force-mark" data-force="1500">Strong</span>
                                </div>
                            </div>
                            <div class="control-section">
                                <label class="control-label">Lever Arm (m): <span id="lever-arm-display">0.3</span></label>
                                <input type="range" id="lever-arm-input" min="0.1" max="0.8" value="0.3" step="0.01">
                                <div class="lever-indicators">
                                    <span class="lever-mark" data-lever="0.15">Short</span>
                                    <span class="lever-mark" data-lever="0.4">Average</span>
                                    <span class="lever-mark" data-lever="0.7">Long</span>
                                </div>
                            </div>
                            <div class="control-section">
                                <label class="control-label">Angle (¬∞): <span id="angle-display">90</span></label>
                                <input type="range" id="angle-input" min="0" max="180" value="90" step="5">
                                <div class="angle-indicators">
                                    <span class="angle-mark" data-angle="30">Acute</span>
                                    <span class="angle-mark" data-angle="90">Perpendicular</span>
                                    <span class="angle-mark" data-angle="150">Obtuse</span>
                                </div>
                            </div>
                            <div class="control-section">
                                <label class="control-label">Moment of Inertia (kg‚ãÖm¬≤): <span id="inertia-display">0.5</span></label>
                                <input type="range" id="inertia-input" min="0.1" max="2.0" value="0.5" step="0.1">
                                <div class="inertia-indicators">
                                    <span class="inertia-mark" data-inertia="0.2">Compact</span>
                                    <span class="inertia-mark" data-inertia="0.8">Average</span>
                                    <span class="inertia-mark" data-inertia="1.5">Extended</span>
                                </div>
                            </div>
                        </div>

                        <!-- Real-time Calculations Display -->
                        <div class="calculations-display">
                            <div class="calc-result">
                                <span class="calc-label">Torque (œÑ = rF sin Œ∏):</span>
                                <span class="calc-value torque-value" id="torque-result">150 N‚ãÖm</span>
                            </div>
                            <div class="calc-result">
                                <span class="calc-label">Angular Acceleration (Œ± = œÑ/I):</span>
                                <span class="calc-value acceleration-value" id="angular-acceleration-result">300 rad/s¬≤</span>
                            </div>
                            <div class="calc-result">
                                <span class="calc-label">Angular Momentum (L = Iœâ):</span>
                                <span class="calc-value momentum-value" id="angular-momentum-result">25 kg‚ãÖm¬≤/s</span>
                            </div>
                        </div>
                    </div>

                    <!-- Visual Torque Diagram -->
                    <div class="torque-diagram-container">
                        <h5>üìä Torque Vector Visualization</h5>
                        <div class="torque-diagram" id="torque-diagram">
                            <svg width="500" height="300" viewBox="0 0 500 300">
                                <!-- Background -->
                                <rect width="100%" height="100%" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>

                                <!-- Grid -->
                                <defs>
                                    <pattern id="torqueGrid" width="25" height="25" patternUnits="userSpaceOnUse">
                                        <path d="M 25 0 L 0 0 0 25" fill="none" stroke="#e5e7eb" stroke-width="0.5"/>
                                    </pattern>
                                    <radialGradient id="pivotGradient" cx="0.5" cy="0.5" r="0.5">
                                        <stop offset="0%" style="stop-color:#374151"/>
                                        <stop offset="100%" style="stop-color:#6b7280"/>
                                    </radialGradient>
                                </defs>
                                <rect width="100%" height="100%" fill="url(#torqueGrid)"/>

                                <!-- Pivot Point -->
                                <circle cx="250" cy="150" r="8" fill="url(#pivotGradient)" stroke="#374151" stroke-width="2"/>
                                <text x="250" y="135" text-anchor="middle" class="pivot-label">Pivot</text>

                                <!-- Lever Arm -->
                                <line id="lever-arm-line" x1="250" y1="150" x2="350" y2="150" stroke="#3b82f6" stroke-width="4"/>
                                <text id="lever-arm-label" x="300" y="140" text-anchor="middle" class="lever-label">r = 0.3m</text>

                                <!-- Force Vector -->
                                <defs>
                                    <marker id="torque-arrowhead" markerWidth="12" markerHeight="8" refX="10" refY="4" orient="auto">
                                        <polygon points="0 0, 12 4, 0 8" fill="#dc2626"/>
                                    </marker>
                                </defs>
                                <line id="force-vector-line" x1="350" y1="150" x2="350" y2="80" stroke="#dc2626" stroke-width="4" marker-end="url(#torque-arrowhead)"/>
                                <text id="force-vector-label" x="365" y="115" class="force-label">F = 500N</text>

                                <!-- Angle Arc -->
                                <path id="angle-arc" d="M 270 150 A 20 20 0 0 0 270 130" fill="none" stroke="#7c3aed" stroke-width="2"/>
                                <text id="angle-label" x="275" y="135" class="angle-label">90¬∞</text>

                                <!-- Torque Direction Indicator -->
                                <circle cx="250" cy="150" r="30" fill="none" stroke="#16a34a" stroke-width="3" stroke-dasharray="5,5"/>
                                <path d="M 270 130 A 20 20 0 0 1 280 150" fill="none" stroke="#16a34a" stroke-width="3" marker-end="url(#torque-arrowhead)"/>
                                <text id="torque-direction-label" x="290" y="125" class="torque-label">œÑ = 150 N‚ãÖm</text>

                                <!-- Moment of Inertia Visualization -->
                                <rect id="inertia-object" x="340" y="140" width="20" height="20" fill="#f59e0b" stroke="#d97706" stroke-width="2"/>
                                <text x="350" y="175" text-anchor="middle" class="inertia-label">I = 0.5</text>

                                <!-- Scale indicator -->
                                <text x="20" y="280" class="scale-text">Real-time Rotational Dynamics Analysis</text>
                            </svg>
                        </div>
                    </div>

                    <!-- Rotational Equations Display -->
                    <div class="equations-demo-container">
                        <h5>üìê Rotational Dynamics Equations</h5>
                        <div class="equations-display">
                            <div class="equation-row">
                                <span class="equation-label">Torque:</span>
                                <span class="equation-formula">œÑ = rF sin Œ∏ ‚Üí </span>
                                <span class="equation-value torque-equation" id="torque-equation-display">150 = 0.3 √ó 500 √ó sin(90¬∞)</span>
                            </div>
                            <div class="equation-row">
                                <span class="equation-label">Angular Acceleration:</span>
                                <span class="equation-formula">Œ± = œÑ/I ‚Üí </span>
                                <span class="equation-value acceleration-equation" id="alpha-equation-display">300 = 150 / 0.5</span>
                            </div>
                            <div class="equation-row">
                                <span class="equation-label">Angular Momentum:</span>
                                <span class="equation-formula">L = Iœâ ‚Üí </span>
                                <span class="equation-value momentum-equation" id="momentum-equation-display">25 = 0.5 √ó 50</span>
                            </div>
                            <div class="equations-explanation">
                                <p>Torque creates angular acceleration, which builds angular velocity and momentum. The kinetic chain uses this principle to transfer rotational energy efficiently!</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="day-section" id="day-2">
                <div class="day-header">
                    <h2 class="day-title">Day 2: Angular Momentum Principles</h2>
                    <div class="day-meta">
                        <span class="duration">‚è±Ô∏è 50 minutes</span>
                        <span class="complexity">üí≠ Conceptual</span>
                    </div>
                </div>

                <div class="concept-showcase">
                    <h3>Angular Momentum Conservation</h3>
                    <div class="concept-card sequence">
                        <h4>Kinetic Chain Transfer</h4>
                        <div class="sequence-content">
                            <p><strong>Angular Momentum:</strong> L = Iœâ</p>
                            <div class="sequence-steps">
                                <div class="sequence-step">
                                    <h5>1. Hips</h5>
                                    <p>Large I, moderate œâ ‚Üí High L</p>
                                </div>
                                <div class="sequence-step">
                                    <h5>2. Torso</h5>
                                    <p>Medium I, higher œâ ‚Üí Transfers L</p>
                                </div>
                                <div class="sequence-step">
                                    <h5>3. Shoulder</h5>
                                    <p>Small I, very high œâ ‚Üí Concentrates L</p>
                                </div>
                                <div class="sequence-step">
                                    <h5>4. Arm/Ball</h5>
                                    <p>Tiny I, extreme œâ ‚Üí Maximum velocity</p>
                                </div>
                            </div>
                            <div class="key-insight">
                                <strong>Conservation:</strong> L<sub>total</sub> remains constant during transfer
                            </div>
                        </div>
                    </div>
                </div>

                <div class="interactive-calculator" id="angular-momentum-calc">
                    <h3>Angular Momentum Calculator</h3>
                    <div class="calculator-container">
                        <div class="calculator-section">
                            <h4>L = Iœâ Calculator</h4>
                            <div class="input-group">
                                <label for="moment-inertia">Moment of Inertia (kg¬∑m¬≤):</label>
                                <input type="number" id="moment-inertia" value="2.5" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label for="angular-vel">Angular Velocity (rad/s):</label>
                                <input type="number" id="angular-vel" value="10" step="0.1" min="0">
                            </div>
                            <div class="result">
                                <strong>Angular Momentum: <span id="angular-momentum-result">25</span> kg¬∑m¬≤/s</strong>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="day-section" id="day-3">
                <div class="day-header">
                    <h2 class="day-title">Day 3: Torque in Pitch Types</h2>
                    <div class="day-meta">
                        <span class="duration">‚è±Ô∏è 50 minutes</span>
                        <span class="complexity">üéØ Applied</span>
                    </div>
                </div>

                <div class="concept-showcase">
                    <h3>Torque Creates Spin</h3>
                    <div class="concept-card comparison">
                        <h4>Pitch Type Torque Patterns</h4>
                        <div class="comparison-content">
                            <div class="comparison-item">
                                <h5>üî• Fastball Torque</h5>
                                <ul>
                                    <li>Maximum shoulder internal rotation</li>
                                    <li>Straight-line torque application</li>
                                    <li>Creates pure backspin</li>
                                </ul>
                            </div>
                            <div class="comparison-item">
                                <h5>üåÄ Curveball Torque</h5>
                                <ul>
                                    <li>Wrist supination + finger snap</li>
                                    <li>Modified lever arm angle</li>
                                    <li>Creates topspin rotation</li>
                                </ul>
                            </div>
                            <div class="comparison-item">
                                <h5>üéØ Slider Torque</h5>
                                <ul>
                                    <li>Diagonal torque application</li>
                                    <li>Combination rotation pattern</li>
                                    <li>Creates tilted spin axis</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="day-section" id="day-4">
                <div class="day-header">
                    <h2 class="day-title">Day 4: Laboratory Investigation</h2>
                    <div class="day-meta">
                        <span class="duration">‚è±Ô∏è 50 minutes</span>
                        <span class="complexity">üß™ Experimental</span>
                    </div>
                </div>

                <div class="procedure-timeline">
                    <h3>Week 7 Lab: Rotational Force Analysis</h3>
                    <div class="procedure-step">
                        <div class="step-number">1</div>
                        <div class="step-icon">üì±</div>
                        <div class="step-content">
                            <h4>Pitch Recording</h4>
                            <p>Capture different pitch types at 240fps, focusing on wrist and finger action</p>
                            <span class="step-duration">15 min</span>
                        </div>
                    </div>
                    <div class="procedure-step">
                        <div class="step-number">2</div>
                        <div class="step-icon">üåÄ</div>
                        <div class="step-content">
                            <h4>Spin Analysis</h4>
                            <p>Measure spin rates and calculate torques required for different pitch movements</p>
                            <span class="step-duration">20 min</span>
                        </div>
                    </div>
                    <div class="procedure-step">
                        <div class="step-number">3</div>
                        <div class="step-icon">‚öñÔ∏è</div>
                        <div class="step-content">
                            <h4>Conservation Testing</h4>
                            <p>Analyze angular momentum transfer through kinetic chain sequences</p>
                            <span class="step-duration">15 min</span>
                        </div>
                    </div>
                </div>
            </section>

            <section class="day-section" id="day-5">
                <div class="day-header">
                    <h2 class="day-title">Day 5: Pitch Design & Applications</h2>
                    <div class="day-meta">
                        <span class="duration">‚è±Ô∏è 50 minutes</span>
                        <span class="complexity">üéì Synthesis</span>
                    </div>
                </div>

                <div class="procedure-timeline">
                    <h3>Final Challenge: Personal Pitch Design</h3>
                    <div class="procedure-step">
                        <div class="step-number">1</div>
                        <div class="step-icon">üé•</div>
                        <div class="step-content">
                            <h4>Torque Analysis</h4>
                            <p>Record and analyze your torque generation across different pitch types</p>
                            <span class="step-duration">15 min</span>
                        </div>
                    </div>
                    <div class="procedure-step">
                        <div class="step-number">2</div>
                        <div class="step-icon">üî¨</div>
                        <div class="step-content">
                            <h4>Optimization Calculation</h4>
                            <p>Calculate torques and identify efficiency improvements</p>
                            <span class="step-duration">20 min</span>
                        </div>
                    </div>
                    <div class="procedure-step">
                        <div class="step-number">3</div>
                        <div class="step-icon">üé®</div>
                        <div class="step-content">
                            <h4>Pitch Design</h4>
                            <p>Design new pitch based on torque and angular momentum principles</p>
                            <span class="step-duration">15 min</span>
                        </div>
                    </div>
                </div>

                <div class="week-summary">
                    <h3>Week 7 Summary: Key Concepts</h3>
                    <div class="concepts-grid">
                        <div class="concept-item">
                            <h4>Torque</h4>
                            <p>Rotational force (œÑ = r √ó F = rF sin Œ∏), creates angular acceleration</p>
                        </div>
                        <div class="concept-item">
                            <h4>Moment of Inertia</h4>
                            <p>Resistance to rotational acceleration (I = Œ£mr¬≤), body position affects I</p>
                        </div>
                        <div class="concept-item">
                            <h4>Angular Momentum</h4>
                            <p>Rotational momentum (L = Iœâ), conserved in closed systems</p>
                        </div>
                        <div class="concept-item">
                            <h4>Kinetic Chain Transfer</h4>
                            <p>Sequential transfer from large I/low œâ to small I/high œâ</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Assessment Section -->
            <section class="assessment-section">
                <h2>üìù Week 7 Assessment</h2>
                
                <div class="assessment-tabs">
                    <button class="tab-button active" data-tab="quiz">Quiz</button>
                    <button class="tab-button" data-tab="practice">Practice Problems</button>
                    <button class="tab-button" data-tab="lab">Lab Report</button>
                </div>
                
                <div class="tab-content active" id="quiz-tab">
                    <div class="assessment-preview">
                        <div class="preview-header">
                            <h3>üìù Quiz Topics</h3>
                            <div class="difficulty-badges">
                                <span class="difficulty-badge basic">Basic</span>
                                <span class="difficulty-badge intermediate">Intermediate</span>
                                <span class="difficulty-badge advanced">Advanced</span>
                            </div>
                        </div>
                        
                        <div class="topic-previews">
                            <div class="topic-preview">
                                <div class="preview-icon">üîß</div>
                                <div class="preview-content">
                                    <h4>Torque Fundamentals</h4>
                                    <p>Test understanding of torque concepts and their applications in baseball pitching rotations.</p>
                                    <div class="preview-tags">
                                        <span class="tag">œÑ = r √ó F</span>
                                        <span class="tag">Lever Arm</span>
                                        <span class="tag">Rotational Force</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="topic-preview">
                                <div class="preview-icon">üå™Ô∏è</div>
                                <div class="preview-content">
                                    <h4>Angular Momentum</h4>
                                    <p>Apply angular momentum principles to analyze rotational motion conservation in pitching.</p>
                                    <div class="preview-tags">
                                        <span class="tag">L = Iœâ</span>
                                        <span class="tag">Conservation</span>
                                        <span class="tag">Moment of Inertia</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="topic-preview">
                                <div class="preview-icon">‚öæ</div>
                                <div class="preview-content">
                                    <h4>Baseball Applications</h4>
                                    <p>Analyze torque and angular momentum in pitching mechanics and performance optimization.</p>
                                    <div class="preview-tags">
                                        <span class="tag">Body Rotation</span>
                                        <span class="tag">Joint Torques</span>
                                        <span class="tag">Performance</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="assessment-actions">
                            <div class="assessment-cta">
                                <p class="cta-text">Ready to test your knowledge?</p>
                                <button class="btn btn-primary assessment-start-btn" id="start-quiz" aria-label="Start Week 7 Torque and Angular Momentum Quiz">
                                    <span class="loading-spinner" style="display: none;" aria-hidden="true"></span>
                                    <span class="btn-icon">üöÄ</span>
                                    <span class="btn-text">Start Interactive Quiz</span>
                                </button>
                                <p class="assessment-info">16-20 questions ‚Ä¢ ~12 minutes</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="practice-tab">
                    <div class="assessment-preview">
                        <div class="preview-header">
                            <h3>üéØ Practice Problems</h3>
                            <div class="difficulty-badges">
                                <span class="difficulty-badge basic">Guided</span>
                                <span class="difficulty-badge intermediate">Independent</span>
                                <span class="difficulty-badge advanced">Challenge</span>
                            </div>
                        </div>
                        
                        <div class="problem-categories">
                            <div class="category-card">
                                <div class="category-header">
                                    <span class="category-icon">üîß</span>
                                    <h4>Torque Calculations</h4>
                                </div>
                                <div class="category-content">
                                    <p><strong>Problem Set A:</strong> Calculate torques and analyze rotational effects in baseball scenarios.</p>
                                    <ul class="problem-list">
                                        <li>üîß Torque calculations for joint rotations</li>
                                        <li>üìè Lever arm analysis in pitching mechanics</li>
                                        <li>üí™ Muscle torque requirements for rotation</li>
                                        <li>üî¢ Cross product calculations for torque vectors</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="category-card">
                                <div class="category-header">
                                    <span class="category-icon">üå™Ô∏è</span>
                                    <h4>Angular Momentum Analysis</h4>
                                </div>
                                <div class="category-content">
                                    <p><strong>Problem Set B:</strong> Apply angular momentum conservation and transfer principles.</p>
                                    <ul class="problem-list">
                                        <li>üåÄ Angular momentum calculations (L = Iœâ)</li>
                                        <li>‚öñÔ∏è Conservation of angular momentum applications</li>
                                        <li>üîÑ Moment of inertia effects on rotation</li>
                                        <li>üéØ Angular momentum transfer through kinetic chain</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="category-card">
                                <div class="category-header">
                                    <span class="category-icon">üèÜ</span>
                                    <h4>Advanced Rotational Dynamics</h4>
                                </div>
                                <div class="category-content">
                                    <p><strong>Problem Set C:</strong> Complex problems involving torque and angular momentum optimization.</p>
                                    <ul class="problem-list">
                                        <li>üîÑ Multi-segment torque and momentum analysis</li>
                                        <li>‚öôÔ∏è Optimization of rotational mechanics</li>
                                        <li>üìä Comparative analysis of pitching techniques</li>
                                        <li>üéõÔ∏è Advanced integration of rotational dynamics</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="assessment-actions">
                            <div class="assessment-cta">
                                <p class="cta-text">Practice makes perfect!</p>
                                <button class="btn btn-secondary assessment-start-btn" id="start-practice" aria-label="Start Week 7 Practice Problems">
                                    <span class="loading-spinner" style="display: none;" aria-hidden="true"></span>
                                    <span class="btn-icon">üéØ</span>
                                    <span class="btn-text">Start Practice Problems</span>
                                </button>
                                <p class="assessment-info">4 torque problems ‚Ä¢ Step-by-step solutions</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="lab-tab">
                    <div class="assessment-preview">
                        <div class="preview-header">
                            <h3>üî¨ Laboratory Experiment</h3>
                            <div class="lab-badges">
                                <span class="lab-badge data">Data Collection</span>
                                <span class="lab-badge analysis">Analysis</span>
                                <span class="lab-badge report">Report Writing</span>
                            </div>
                        </div>
                        
                        <div class="lab-overview">
                            <div class="lab-card">
                                <div class="lab-header">
                                    <span class="lab-icon">üîß</span>
                                    <h4>Torque and Angular Momentum in Baseball Pitching</h4>
                                </div>
                                <div class="lab-content">
                                    <p><strong>Objective:</strong> Investigate torque generation and angular momentum transfer in baseball pitching mechanics.</p>
                                    
                                    <div class="lab-sections">
                                        <div class="lab-section">
                                            <h5>üìã Pre-Lab Preparation</h5>
                                            <ul>
                                                <li>Review torque and angular momentum equations</li>
                                                <li>Set up torque measurement equipment and sensors</li>
                                                <li>Prepare motion capture for rotational analysis</li>
                                                <li>Safety protocols for biomechanical torque measurements</li>
                                            </ul>
                                        </div>
                                        
                                        <div class="lab-section">
                                            <h5>üî¨ Experimental Procedure</h5>
                                            <ul>
                                                <li>Measure joint torques throughout pitching motion</li>
                                                <li>Calculate moments of inertia for body segments</li>
                                                <li>Analyze angular momentum transfer sequences</li>
                                                <li>Document torque-velocity relationships</li>
                                                <li>Compare torque patterns across pitch types</li>
                                            </ul>
                                        </div>
                                        
                                        <div class="lab-section">
                                            <h5>üìä Data Analysis</h5>
                                            <ul>
                                                <li>Calculate torques using œÑ = r √ó F measurements</li>
                                                <li>Apply L = Iœâ to determine angular momentum</li>
                                                <li>Analyze conservation of angular momentum</li>
                                                <li>Create torque-time and momentum-time graphs</li>
                                            </ul>
                                        </div>
                                        
                                        <div class="lab-section">
                                            <h5>üìù Lab Report Components</h5>
                                            <ul>
                                                <li>Introduction: Torque and angular momentum principles</li>
                                                <li>Methods: Measurement procedures and equipment setup</li>
                                                <li>Results: Torque and momentum calculations with graphs</li>
                                                <li>Discussion: Rotational dynamics in pitching performance</li>
                                                <li>Conclusion: Applications for improving rotational efficiency</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="assessment-actions">
                            <div class="assessment-cta">
                                <p class="cta-text">Ready for hands-on investigation?</p>
                                <button class="btn btn-accent assessment-start-btn" id="start-lab" aria-label="Start Week 7 Laboratory Investigation">
                                    <span class="loading-spinner" style="display: none;" aria-hidden="true"></span>
                                    <span class="btn-icon">üî¨</span>
                                    <span class="btn-text">Start Lab Investigation</span>
                                </button>
                                <p class="assessment-info">Angular motion analysis ‚Ä¢ Torque measurement ‚Ä¢ Report writing</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <nav class="nav-sidebar">
            <div class="nav-header">
                <div class="nav-title">Physics of Baseball</div>
                <div class="nav-subtitle">Week 7: Torque and Angular Momentum</div>
            </div>

            <div class="home-nav">
                <a href="../index.html" class="home-link"><span>üè†</span><span>Course Home</span></a>
            </div>

            <div class="week-nav">
                <div class="nav-section-title">Weeks</div>
                <div class="week-links">
                    <a href="week-01.html" class="week-link"><span>1</span><span>Introduction to Motion</span></a>
                    <a href="week-02.html" class="week-link"><span>2</span><span>Projectile Motion</span></a>
                    <a href="week-03.html" class="week-link"><span>3</span><span>Forces and Newton's Laws</span></a>
                    <a href="week-04.html" class="week-link"><span>4</span><span>Momentum and Impulse</span></a>
                    <a href="week-05.html" class="week-link"><span>5</span><span>Work and Energy</span></a>
                    <a href="week-06.html" class="week-link"><span>6</span><span>Circular Motion</span></a>
                    <a href="week-07.html" class="week-link active"><span>7</span><span>Torque and Angular Momentum</span></a>
                    <a href="week-08.html" class="week-link"><span>8</span><span>Physics of Spin</span></a>
                    <a href="week-09.html" class="week-link"><span>9</span><span>Aerodynamics</span></a>
                    <a href="week-10.html" class="week-link"><span>10</span><span>Pitching Mechanics</span></a>
                    <a href="week-11.html" class="week-link"><span>11</span><span>Measurement and Data</span></a>
                    <a href="week-12.html" class="week-link"><span>12</span><span>Equipment Physics</span></a>
                    <a href="week-13.html" class="week-link"><span>13</span><span>Review and Application</span></a>
                </div>
            </div>

            <div class="daily-nav">
                <div class="nav-section-title">This Week</div>
                <div class="daily-links">
                    <a href="#day-1" class="daily-link"><span>üîÑ</span><span>Torque Fundamentals</span></a>
                    <a href="#day-2" class="daily-link"><span>‚öñÔ∏è</span><span>Angular Momentum Principles</span></a>
                    <a href="#day-3" class="daily-link"><span>‚öæ</span><span>Torque in Pitch Types</span></a>
                    <a href="#day-4" class="daily-link"><span>üî¨</span><span>Laboratory Investigation</span></a>
                    <a href="#day-5" class="daily-link"><span>üé®</span><span>Pitch Design & Applications</span></a>
                </div>
            </div>
        </nav>
    </div>

    <script type="module" src="../js/main.js"></script>
    <script src="../js/week-template.js"></script>
    <script type="module" src="../js/interactive-learning.js"></script>
    <script type="module">
        import { QuizSystem } from '../js/assessment.js';

        // Assessment button handlers
        document.addEventListener('DOMContentLoaded', function() {
            // Quiz functionality
            const startQuizBtn = document.getElementById('start-quiz');
            if (startQuizBtn) {
                startQuizBtn.addEventListener('click', async function() {
                    const spinner = this.querySelector('.loading-spinner');
                    if (spinner) spinner.style.display = 'inline-block';
                    this.disabled = true;
                    
                    try {
                        const quizTab = document.getElementById('quiz-content');
                        quizTab.innerHTML = '<div id="week7-quiz-container"></div>';
                        
                        // Import and use Enhanced Quiz System
                        const { EnhancedQuizSystem } = await import('../js/enhanced-assessment.js');
                        const enhancedQuizSystem = new EnhancedQuizSystem('week7-quiz-container');
                        await enhancedQuizSystem.createQuiz('week7');
                        document.querySelector('[data-tab="quiz"]').click();
                    } catch (error) {
                        console.error('Failed to load quiz:', error);
                        alert('Failed to load quiz. Please try again.');
                    } finally {
                        if (spinner) spinner.style.display = 'none';
                        this.disabled = false;
                    }
                });
            }
            
            // Practice problems functionality
            const startPracticeBtn = document.getElementById('start-practice');
            if (startPracticeBtn) {
                startPracticeBtn.addEventListener('click', function() {
                    const practiceTab = document.getElementById('practice-content');
                    const existingProblems = practiceTab.querySelector('.problem-set');
                    if (existingProblems) {
                        practiceTab.innerHTML = `
                            <div class="practice-problems">
                                <h3>üéØ Week 7 Practice Problems: Torque and Angular Momentum</h3>
                                <div class="problem-set">
                                    ${existingProblems.innerHTML}
                                </div>
                            </div>
                        `;
                        
                        // Solutions are now always visible - no toggle needed
                    }
                    document.querySelector('[data-tab="practice"]').click();
                });
            }
            
            // Lab functionality
            const startLabBtn = document.getElementById('start-lab');
            if (startLabBtn) {
                startLabBtn.addEventListener('click', function() {
                    const labTab = document.getElementById('lab-content');
                    labTab.innerHTML = `
                        <div class="lab-investigation">
                            <h3>üî¨ Week 7 Lab: Torque and Angular Momentum Analysis</h3>
                            <div class="lab-content">
                                <div class="lab-intro">
                                    <p>This laboratory investigation explores rotational motion in baseball through measurement and analysis of torque and angular momentum.</p>
                                </div>
                                
                                <div class="lab-objectives">
                                    <h4>üéØ Learning Objectives</h4>
                                    <ul>
                                        <li>Measure torque in bat swings and pitching motions</li>
                                        <li>Calculate angular momentum during rotational movements</li>
                                        <li>Analyze the relationship between torque and angular acceleration</li>
                                        <li>Investigate conservation of angular momentum</li>
                                        <li>Apply rotational dynamics to batting and pitching performance</li>
                                    </ul>
                                </div>
                                
                                <div class="lab-procedure">
                                    <h4>üìã Experimental Procedure</h4>
                                    <div class="procedure-steps">
                                        <div class="step-card">
                                            <h5>Step 1: Equipment Setup</h5>
                                            <p>Gather materials: baseball bats of different lengths/masses, baseballs, torque meter, high-speed camera, measuring tape.</p>
                                        </div>
                                        <div class="step-card">
                                            <h5>Step 2: Bat Measurements</h5>
                                            <p>Measure bat dimensions, mass, and center of mass location for moment of inertia calculations.</p>
                                        </div>
                                        <div class="step-card">
                                            <h5>Step 3: Swing Analysis</h5>
                                            <p>Record bat swings using high-speed video to measure angular velocity and angular acceleration.</p>
                                        </div>
                                        <div class="step-card">
                                            <h5>Step 4: Torque Measurements</h5>
                                            <p>Use torque sensors to measure the torque applied during different phases of the swing.</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="lab-analysis">
                                    <h4>üìä Data Analysis</h4>
                                    <p>Calculate and analyze:</p>
                                    <ul>
                                        <li>Moment of inertia for different bat configurations</li>
                                        <li>Angular velocity and acceleration throughout swing</li>
                                        <li>Torque values during acceleration and deceleration phases</li>
                                        <li>Angular momentum conservation during bat-ball collision</li>
                                    </ul>
                                </div>
                                
                                <div class="lab-conclusion">
                                    <h4>üéØ Applications and Conclusions</h4>
                                    <p>Discuss practical applications including:</p>
                                    <ul>
                                        <li>Optimal bat weight and length for different players</li>
                                        <li>Importance of follow-through in batting technique</li>
                                        <li>How torque affects bat speed and hitting power</li>
                                        <li>Applications to pitching mechanics and arm motion</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    `;
                    document.querySelector('[data-tab="lab"]').click();
                });
            }
        });

        // Tab functionality
        document.querySelectorAll('.tab-button').forEach(button => {
            button.addEventListener('click', () => {
                // Remove active class from all buttons and content
                document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                
                // Add active class to clicked button
                button.classList.add('active');
                
                // Show corresponding content
                const tabName = button.getAttribute('data-tab');
                const tabContent = document.getElementById(`${tabName}-tab`);
                if (tabContent) {
                    tabContent.classList.add('active');
                }
            });
        });
    </script>
    <script>
        // Week 7 Enhanced Rotational Dynamics Calculator JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            // Enhanced Rotational Dynamics Analyzer Elements
            const rotationalForceInput = document.getElementById('rotational-force-input');
            const leverArmInput = document.getElementById('lever-arm-input');
            const angleInput = document.getElementById('angle-input');
            const inertiaInput = document.getElementById('inertia-input');

            const rotationalForceDisplay = document.getElementById('rotational-force-display');
            const leverArmDisplay = document.getElementById('lever-arm-display');
            const angleDisplay = document.getElementById('angle-display');
            const inertiaDisplay = document.getElementById('inertia-display');

            const torqueResult = document.getElementById('torque-result');
            const angularAccelerationResult = document.getElementById('angular-acceleration-result');
            const angularMomentumResult = document.getElementById('angular-momentum-result');

            // SVG Elements for visual diagram
            const leverArmLine = document.getElementById('lever-arm-line');
            const leverArmLabel = document.getElementById('lever-arm-label');
            const forceVectorLine = document.getElementById('force-vector-line');
            const forceVectorLabel = document.getElementById('force-vector-label');
            const angleArc = document.getElementById('angle-arc');
            const angleLabel = document.getElementById('angle-label');
            const torqueDirectionLabel = document.getElementById('torque-direction-label');
            const inertiaObject = document.getElementById('inertia-object');

            // Equation Elements
            const torqueEquationDisplay = document.getElementById('torque-equation-display');
            const alphaEquationDisplay = document.getElementById('alpha-equation-display');
            const momentumEquationDisplay = document.getElementById('momentum-equation-display');

            function updateRotationalAnalyzer() {
                if (!rotationalForceInput || !leverArmInput || !angleInput || !inertiaInput) return;

                const force = parseFloat(rotationalForceInput.value);
                const leverArm = parseFloat(leverArmInput.value);
                const angle = parseFloat(angleInput.value);
                const momentInertia = parseFloat(inertiaInput.value);

                // Update displays
                rotationalForceDisplay.textContent = force.toFixed(0);
                leverArmDisplay.textContent = leverArm.toFixed(2);
                angleDisplay.textContent = angle.toFixed(0);
                inertiaDisplay.textContent = momentInertia.toFixed(1);

                // Calculate values
                const angleRad = angle * (Math.PI / 180);
                const torque = force * leverArm * Math.sin(angleRad); // œÑ = rF sin Œ∏
                const angularAcceleration = torque / momentInertia; // Œ± = œÑ/I
                const assumedAngularVelocity = 50; // rad/s for demonstration
                const angularMomentum = momentInertia * assumedAngularVelocity; // L = Iœâ

                // Update result displays
                torqueResult.textContent = torque.toFixed(1) + ' N‚ãÖm';
                angularAccelerationResult.textContent = angularAcceleration.toFixed(1) + ' rad/s¬≤';
                angularMomentumResult.textContent = angularMomentum.toFixed(1) + ' kg‚ãÖm¬≤/s';

                // Update visual diagram
                updateTorqueDiagram(force, leverArm, angle, torque, momentInertia);

                // Update equations
                updateEquationDisplays(force, leverArm, angle, torque, angularAcceleration, momentInertia, angularMomentum);
            }

            function updateTorqueDiagram(force, leverArm, angle, torque, momentInertia) {
                const pivotX = 250;
                const pivotY = 150;

                // Update lever arm length (scale for visualization)
                const visualLeverLength = 60 + (leverArm - 0.1) * 100; // Scale between 60-130 px
                const leverEndX = pivotX + visualLeverLength;
                const leverEndY = pivotY;

                if (leverArmLine) {
                    leverArmLine.setAttribute('x2', leverEndX);
                    leverArmLine.setAttribute('y2', leverEndY);
                }

                if (leverArmLabel) {
                    leverArmLabel.textContent = `r = ${leverArm.toFixed(2)}m`;
                    leverArmLabel.setAttribute('x', (pivotX + leverEndX) / 2);
                }

                // Update force vector based on angle
                const forceLength = Math.min(force / 10, 80); // Scale force vector
                const forceAngleRad = (90 - angle) * (Math.PI / 180); // Force angle from vertical
                const forceEndX = leverEndX + forceLength * Math.sin(forceAngleRad);
                const forceEndY = leverEndY - forceLength * Math.cos(forceAngleRad);

                if (forceVectorLine) {
                    forceVectorLine.setAttribute('x1', leverEndX);
                    forceVectorLine.setAttribute('y1', leverEndY);
                    forceVectorLine.setAttribute('x2', forceEndX);
                    forceVectorLine.setAttribute('y2', forceEndY);
                }

                if (forceVectorLabel) {
                    forceVectorLabel.textContent = `F = ${force}N`;
                    forceVectorLabel.setAttribute('x', forceEndX + 5);
                    forceVectorLabel.setAttribute('y', forceEndY - 5);
                }

                // Update angle arc
                const arcRadius = 20;
                const startAngleRad = 0;
                const endAngleRad = angle * (Math.PI / 180);
                const arcStartX = pivotX + arcRadius;
                const arcStartY = pivotY;
                const arcEndX = pivotX + arcRadius * Math.cos(endAngleRad);
                const arcEndY = pivotY - arcRadius * Math.sin(endAngleRad);
                const largeArcFlag = angle > 180 ? 1 : 0;

                if (angleArc) {
                    const arcPath = `M ${arcStartX} ${arcStartY} A ${arcRadius} ${arcRadius} 0 ${largeArcFlag} 0 ${arcEndX} ${arcEndY}`;
                    angleArc.setAttribute('d', arcPath);
                }

                if (angleLabel) {
                    angleLabel.textContent = `${angle}¬∞`;
                    angleLabel.setAttribute('x', pivotX + 25);
                    angleLabel.setAttribute('y', pivotY - 10);
                }

                // Update torque direction label
                if (torqueDirectionLabel) {
                    torqueDirectionLabel.textContent = `œÑ = ${torque.toFixed(1)} N‚ãÖm`;
                }

                // Update moment of inertia visualization
                if (inertiaObject) {
                    const objectSize = 10 + (momentInertia / 2) * 20; // Scale size based on inertia
                    inertiaObject.setAttribute('width', objectSize);
                    inertiaObject.setAttribute('height', objectSize);
                    inertiaObject.setAttribute('x', leverEndX - objectSize / 2);
                    inertiaObject.setAttribute('y', leverEndY - objectSize / 2);
                }
            }

            function updateEquationDisplays(force, leverArm, angle, torque, angularAcceleration, momentInertia, angularMomentum) {
                const sinAngle = Math.sin(angle * Math.PI / 180);

                if (torqueEquationDisplay) {
                    torqueEquationDisplay.textContent = `${torque.toFixed(1)} = ${leverArm.toFixed(2)} √ó ${force} √ó ${sinAngle.toFixed(3)}`;
                }

                if (alphaEquationDisplay) {
                    alphaEquationDisplay.textContent = `${angularAcceleration.toFixed(1)} = ${torque.toFixed(1)} / ${momentInertia.toFixed(1)}`;
                }

                if (momentumEquationDisplay) {
                    momentumEquationDisplay.textContent = `${angularMomentum.toFixed(1)} = ${momentInertia.toFixed(1)} √ó 50`;
                }
            }

            // Event listeners for real-time updates
            if (rotationalForceInput) rotationalForceInput.addEventListener('input', updateRotationalAnalyzer);
            if (leverArmInput) leverArmInput.addEventListener('input', updateRotationalAnalyzer);
            if (angleInput) angleInput.addEventListener('input', updateRotationalAnalyzer);
            if (inertiaInput) inertiaInput.addEventListener('input', updateRotationalAnalyzer);

            // Legacy calculator support (for any remaining basic calculators)
            const torqueForce = document.getElementById('torque-force');
            const torqueRadius = document.getElementById('torque-radius');
            const torqueAngle = document.getElementById('torque-angle');
            const legacyTorqueResult = document.getElementById('torque-result');

            function calculateTorque() {
                if (torqueForce && torqueRadius && torqueAngle && legacyTorqueResult) {
                    const force = parseFloat(torqueForce.value) || 0;
                    const radius = parseFloat(torqueRadius.value) || 0;
                    const angle = parseFloat(torqueAngle.value) || 0;
                    const torque = force * radius * Math.sin(angle * Math.PI / 180);
                    legacyTorqueResult.textContent = torque.toFixed(1);
                }
            }

            if (torqueForce && torqueRadius && torqueAngle) {
                torqueForce.addEventListener('input', calculateTorque);
                torqueRadius.addEventListener('input', calculateTorque);
                torqueAngle.addEventListener('input', calculateTorque);
            }

            // Initialize enhanced calculator
            updateRotationalAnalyzer();

            // Initialize legacy calculators
            calculateTorque();
        });
    </script>
    
    <!-- Mobile Navigation Overlay -->
    <div class="nav-overlay" id="nav-overlay"></div>
    
    <script>
        // Mobile Navigation Toggle - Phase 1 Critical Fix
        document.addEventListener('DOMContentLoaded', function() {
            const navToggle = document.querySelector('.nav-toggle');
            const navSidebar = document.querySelector('.nav-sidebar');
            const navOverlay = document.getElementById('nav-overlay');
            
            if (!navToggle || !navSidebar || !navOverlay) return;
            
            function toggleNav() {
                const isOpen = navSidebar.classList.contains('open');
                
                if (isOpen) {
                    navSidebar.classList.remove('open');
                    navOverlay.classList.remove('active');
                    navToggle.setAttribute('aria-expanded', 'false');
                    document.body.style.overflow = '';
                } else {
                    navSidebar.classList.add('open');
                    navOverlay.classList.add('active');
                    navToggle.setAttribute('aria-expanded', 'true');
                    document.body.style.overflow = 'hidden';
                    
                    // Focus management
                    const firstFocusable = navSidebar.querySelector('a, button');
                    if (firstFocusable) firstFocusable.focus();
                }
            }
            
            // Toggle button click
            navToggle.addEventListener('click', toggleNav);
            
            // Overlay click to close
            navOverlay.addEventListener('click', toggleNav);
            
            // Escape key to close
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && navSidebar.classList.contains('open')) {
                    toggleNav();
                    navToggle.focus();
                }
            });
            
            // Close on navigation link click (mobile)
            navSidebar.addEventListener('click', function(e) {
                if (e.target.matches('a') && window.innerWidth <= 768) {
                    toggleNav();
                }
            });
        });
    </script>
</body>
</html>